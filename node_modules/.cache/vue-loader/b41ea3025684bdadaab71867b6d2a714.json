{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmart\\src\\components\\ads\\allAds.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmart\\src\\components\\ads\\allAds.vue","mtime":1584951680580},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from 'moment'\nimport config from '../../config/config'\nimport {mapActions, mapGetters} from 'vuex'\n\nlet opts = {\n  page: 1,\n  category: \"all\",\n  campus: \"all\"\n}\n\nexport default {\n\n  name: \"allAdds\",\n  data() {\n    return {\n\n      baseUrl: config.axiosConf.baseURL,\n      page: 1,\n      category: \"all\",\n      campus: \"all\"\n\n    }\n\n\n  }, \n\n  computed: mapGetters(['categories', 'campuses', 'allAds']),\n\n  methods: {\n\n    ...mapActions(['getCategories', 'getCampuses', 'getAllAds']),\n\n    getDate(date) {\n      return moment(date).fromNow()\n    },\n\n    clickEr(pageNum) {\n      opts.page = pageNum\n      this.getAllAds(opts)\n    },\n\n    boom() {\n      window.alert('dd')\n    }\n\n  },\n\n  async created() {\n    \n    let loader = this.$loading.show()\n\n    opts.campus = await this.$route.params.page\n    this.campus = await this.$route.params.page\n\n    opts.category = await this.$route.params.cat\n    this.category = await this.$route.params.cat\n\n    opts.campus = await this.$route.params.camp\n    this.campus = await this.$route.params.camp\n\n    await this.getAllAds(opts)\n    await this.getCategories()\n    await this.getCampuses()\n\n    loader.hide()\n\n  },\n\n  watch : {\n    \n    category: async function () {\n\n      let loader = this.$loading.show()\n\n      opts.category = this.category\n      opts.page = 1\n      await this.getAllAds(opts)\n\n      loader.hide()\n\n    },\n\n    campus: async function() {\n\n      let loader = this.$loading.show()\n\n      opts.campus = this.campus\n      opts.page = 1\n      await this.getAllAds(opts)\n\n      loader.hide()\n\n    }\n\n  }\n\n}\n",{"version":3,"sources":["allAds.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA","file":"allAds.vue","sourceRoot":"src/components/ads","sourcesContent":["<template>\n  <div>\n\n\n    <div class=\"row mt-2\">\n\n        <div class=\"col l6 s6 m6\">\n          <select v-model=\"category\">\n            <option value=\"all\">All Categories</option>\n            <option\n              v-for=\"category in categories\" \n              :key=\"category._id\"\n              :value=\"category._id\"\n            >\n              {{category.name}}\n            </option>\n            \n          </select>\n        </div>\n        \n\n        \n        <div class=\"col l6 s6 m6\">\n          <select class=\"form-control\" v-model=\"campus\">\n            <option value=\"all\">All Campuses</option>\n            <option \n              v-for=\"campus in campuses\" \n              :key=\"campus._id\"\n              :value=\"campus.name\"\n            >\n              {{campus.name}}\n            </option>\n            \n          </select>\n        </div>\n\n\n    </div>\n\n    <div class=\"row\">\n\n      <div \n        class=\"col item l6 s12 m12\"\n        v-for=\"ad in allAds.ads\"\n        :key=\"ad._id\"\n        @click=\"$router.push('/ad/'+ad._id)\"\n      >\n        <div class=\"row green cursor\">\n          <div class=\"img-cont-parent col s6  blue\">\n            <div class=\"img-cont flex\">\n              <img :src=\"baseUrl+ad.images[0].path\" alt=\"\" v-if=\"ad.images.length > 0\">\n              <p v-else class=\"py-5 m-0\">\n                <i class=\"fa fa-image fa-4x\" aria-hidden=\"true\"></i>\n                <br>\n                No image\n              </p>\n            </div>\n\n          </div>\n          <div class=\"col yellow s6 bg-dark h-100\">\n            <h5 class=\"truncate\">{{ad.name}}</h5>\n            <p><i class=\"fa fa-clock\" aria-hidden=\"true\"></i> Posted {{getDate(ad.added)}} </p>\n            <p><i class=\"fa fa-university\" aria-hidden=\"true\"></i> {{ad.campus}} </p>\n            <h5 class=\"btn orange darken-4\">R {{ad.price}}</h5>\n          </div>\n        </div>\n      </div>\n      \n\n    </div>\n\n    <paginate\n      v-if=\"allAds.pages == 1\"\n      :page-count=\"allAds.pages\"\n      :click-handler=\"clickEr\"\n      container-class=\"pagination mt-4\"\n      page-class=\"page-item\"\n      page-link-class=\"page-link text-white bg-primary\"\n      prev-class=\"page-item\"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item\"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"active disabled font-weight-bold\"\n      \n    />\n\n    <div v-if=\"allAds.ads.length == 0\">\n      <h1 class=\"text-center py-5\">\n        <i class=\"fa fa-box-open fa-2x\" aria-hidden=\"true\"></i>\n        <br> No ads found\n      </h1>\n    </div>\n\n\n\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport config from '../../config/config'\nimport {mapActions, mapGetters} from 'vuex'\n\nlet opts = {\n  page: 1,\n  category: \"all\",\n  campus: \"all\"\n}\n\nexport default {\n\n  name: \"allAdds\",\n  data() {\n    return {\n\n      baseUrl: config.axiosConf.baseURL,\n      page: 1,\n      category: \"all\",\n      campus: \"all\"\n\n    }\n\n\n  }, \n\n  computed: mapGetters(['categories', 'campuses', 'allAds']),\n\n  methods: {\n\n    ...mapActions(['getCategories', 'getCampuses', 'getAllAds']),\n\n    getDate(date) {\n      return moment(date).fromNow()\n    },\n\n    clickEr(pageNum) {\n      opts.page = pageNum\n      this.getAllAds(opts)\n    },\n\n    boom() {\n      window.alert('dd')\n    }\n\n  },\n\n  async created() {\n    \n    let loader = this.$loading.show()\n\n    opts.campus = await this.$route.params.page\n    this.campus = await this.$route.params.page\n\n    opts.category = await this.$route.params.cat\n    this.category = await this.$route.params.cat\n\n    opts.campus = await this.$route.params.camp\n    this.campus = await this.$route.params.camp\n\n    await this.getAllAds(opts)\n    await this.getCategories()\n    await this.getCampuses()\n\n    loader.hide()\n\n  },\n\n  watch : {\n    \n    category: async function () {\n\n      let loader = this.$loading.show()\n\n      opts.category = this.category\n      opts.page = 1\n      await this.getAllAds(opts)\n\n      loader.hide()\n\n    },\n\n    campus: async function() {\n\n      let loader = this.$loading.show()\n\n      opts.campus = this.campus\n      opts.page = 1\n      await this.getAllAds(opts)\n\n      loader.hide()\n\n    }\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n  .img-cont {\n    max-height: 200px !important;  \n    overflow: hidden !important;\n  }\n\n  .img-cont img {\n    max-width: 100%;\n    max-height: 200px;\n  }\n\n  .img-cont-parent {\n    height:200px !important;\n  }\n\n  h6 {\n    font-size: 16px !important;\n  }\n\n  .row {\n    overflow: hidden;\n    max-height: 200px;\n  }\n\n  /* .col.item {\n    margin-left: 5px !important;\n    display: block !important;\n    float: none;\n  } */\n\n</style>\n"]}]}