{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmarketplace\\src\\components\\admin\\adminReports.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\src\\components\\admin\\adminReports.vue","mtime":1586434714039},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\nexport default {\r\n    name: \"adminReport\",\r\n\r\n    data: function() {\r\n        return {\r\n            reports: [],\r\n            report: null,\r\n            pages: null,\r\n            page: 1,\r\n            report: null\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        async getReports(page) {\r\n\r\n\r\n            let res = await this.$axios.get(\"/report/all/\"+page, this.$headers())\r\n            this.pages = res.data.pages\r\n            this.page = res.data.page\r\n            if(res.data.reports) {\r\n                this.reports = res.data.reports\r\n            }\r\n\r\n        },\r\n\r\n        red(attended) {\r\n            if(attended) return \"\"\r\n            return \"red\"\r\n        },\r\n\r\n        stroke(id) {\r\n\r\n            if(confirm(\"Are you sure you want to stroke user?\")) {\r\n                    \r\n                let loader = this.$loading.show()\r\n\r\n                this.$axios.put(\"/user/stroke/\"+id,{}, this.$headers())\r\n                .then(res => {\r\n\r\n                    loader.hide()\r\n\r\n                    if(res.data.error) {\r\n                        this.$toasted.error(res.data.message, {icon: \"times-circle\"})\r\n                    } else {\r\n                        this.$toasted.success(res.data.message, {icon: \"check\"})            \r\n                    }\r\n\r\n                    this.getReports(this.page)\r\n                    this.attended()                    \r\n\r\n                })\r\n                .catch(err => {\r\n                    loader.hide()\r\n                    this.$toasted.error(err, {icon: \"times-circle\"})\r\n                })\r\n\r\n            }\r\n\r\n\r\n        },\r\n\r\n        attended() {\r\n\r\n            let loader = this.$loading.show()\r\n\r\n            this.$axios.post(\"/report/attend/\"+this.report._id, {}, this.$headers())\r\n                .then(res => {\r\n                    loader.hide()\r\n\r\n                    if(res.data.error) {\r\n                        this.$toasted.error(res.data.message, {icon: \"times-circle\"})\r\n                    } else {\r\n                        this.$toasted.success(res.data.message, {icon: \"check\"})            \r\n                    }\r\n\r\n                    this.getReports(this.page)\r\n                    //this.attended()                    \r\n\r\n                })\r\n                .catch(err => {\r\n                    loader.hide()\r\n                    this.$toasted.error(err, {icon: \"times-circle\"})\r\n                })\r\n                \r\n        }\r\n\r\n    },\r\n    created() {\r\n        this.getReports(1)\r\n    }\r\n}\r\n",{"version":3,"sources":["adminReports.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"adminReports.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n    <div class=\"p-2 red lighten-4\">\r\n        <ul class=\"collapsible\">\r\n            <li  v-for=\"rep in reports\" :key=\"rep._id\" @click=\"report = rep\">\r\n                <div :class=\"'collapsible-header ' + red(rep.attended)\" href=\"#reportMod\">\r\n                    <p>{{rep.category}}</p>\r\n                </div>\r\n                <div class=\"collapsible-body white\">\r\n                    <p class=\"card-panel green\">{{rep.message}}</p>\r\n                    <router-link :to=\"'/ad/'+rep.ad\">The Ad</router-link> |&nbsp;\r\n                    <a href=\"#!\" @click=\"stroke(rep.adOwner)\">Stroke</a> |&nbsp;\r\n                    <a href=\"#!\" @click=\"attended()\">Mark Attended</a>\r\n\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <div v-if=\"reports.length == 0\" class=\"purple p-2 mt-2\">\r\n            <p class=\"display-1 center  p-2 mt-2\">\r\n                <i class=\"fa fa-times-circle fa-4x\" aria-hidden=\"true\"></i>\r\n            </p>\r\n            <p class=\"center\">No Reports</p>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"adminReport\",\r\n\r\n    data: function() {\r\n        return {\r\n            reports: [],\r\n            report: null,\r\n            pages: null,\r\n            page: 1,\r\n            report: null\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        async getReports(page) {\r\n\r\n\r\n            let res = await this.$axios.get(\"/report/all/\"+page, this.$headers())\r\n            this.pages = res.data.pages\r\n            this.page = res.data.page\r\n            if(res.data.reports) {\r\n                this.reports = res.data.reports\r\n            }\r\n\r\n        },\r\n\r\n        red(attended) {\r\n            if(attended) return \"\"\r\n            return \"red\"\r\n        },\r\n\r\n        stroke(id) {\r\n\r\n            if(confirm(\"Are you sure you want to stroke user?\")) {\r\n                    \r\n                let loader = this.$loading.show()\r\n\r\n                this.$axios.put(\"/user/stroke/\"+id,{}, this.$headers())\r\n                .then(res => {\r\n\r\n                    loader.hide()\r\n\r\n                    if(res.data.error) {\r\n                        this.$toasted.error(res.data.message, {icon: \"times-circle\"})\r\n                    } else {\r\n                        this.$toasted.success(res.data.message, {icon: \"check\"})            \r\n                    }\r\n\r\n                    this.getReports(this.page)\r\n                    this.attended()                    \r\n\r\n                })\r\n                .catch(err => {\r\n                    loader.hide()\r\n                    this.$toasted.error(err, {icon: \"times-circle\"})\r\n                })\r\n\r\n            }\r\n\r\n\r\n        },\r\n\r\n        attended() {\r\n\r\n            let loader = this.$loading.show()\r\n\r\n            this.$axios.post(\"/report/attend/\"+this.report._id, {}, this.$headers())\r\n                .then(res => {\r\n                    loader.hide()\r\n\r\n                    if(res.data.error) {\r\n                        this.$toasted.error(res.data.message, {icon: \"times-circle\"})\r\n                    } else {\r\n                        this.$toasted.success(res.data.message, {icon: \"check\"})            \r\n                    }\r\n\r\n                    this.getReports(this.page)\r\n                    //this.attended()                    \r\n\r\n                })\r\n                .catch(err => {\r\n                    loader.hide()\r\n                    this.$toasted.error(err, {icon: \"times-circle\"})\r\n                })\r\n                \r\n        }\r\n\r\n    },\r\n    created() {\r\n        this.getReports(1)\r\n    }\r\n}\r\n</script>"]}]}