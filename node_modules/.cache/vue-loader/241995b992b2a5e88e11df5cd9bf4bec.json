{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmarketplace\\src\\components\\auth\\register.vue?vue&type=style&index=0&id=3b57ae4a&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\src\\components\\auth\\register.vue","mtime":1589910176753},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmarketplace\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.form {\n  margin-bottom: 60px;\n}\n\n@media (max-width: 768px) {\n  .form {\n\n    margin-top: -60px !important;\n    margin-bottom: 0px !important;\n\n  }\n}\n\nlabel {\n  color: #fff !important;\n}\n\n.m-0 {\n  margin: 0px;\n}\n\n",{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"register.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div>\n\n  <div class=\"container p-2 mt-2 purple mb-4 white-text\">\n\n    <h5 class=\"white-text\">\n      <i class=\"fa fa-user-plus d-inline\"></i> Register\n    </h5>\n\n\n    <form @submit=\"register\" autocomplete=\"off\">\n\n      <!-- NAME -->\n      <div class=\"form-group\">\n        <label for=\"name\"><i class=\"fa fa-tag\" aria-hidden=\"true\" ></i> Name</label>\n        <input v-model=\"name\" type=\"text\" id=\"name\" class=\"form-control\" placeholder=\"e.g Koketso Maotomabe\"  required>\n      </div>\n\n\n      <!-- STUDENT NO -->\n      <div class=\"form-group\">\n        <label for=\"sNo\"><i class=\"fa fa-graduation-cap\" aria-hidden=\"true\"></i> Student No. </label>\n        <input  v-model=\"studentNumber\" type=\"text\" id=\"sNo\" class=\"form-control\" placeholder=\"e.g 212002355\"  required>\n      </div>\n\n      <!-- CAMPUS -->\n      <div class=\"form-group\">\n        <label for=\"campus\"><i class=\"fa fa-building\" aria-hidden=\"true\"></i> Campus</label>\n        <select  id=\"campus\"  v-model=\"campus\" required>\n          <option v-for=\"camp in campusesFront\" :key=\"camp._id\" :value=\"camp.name\">{{camp.name}}</option>\n        </select>\n      </div>\n\n      <!-- PHONE -->\n      <div class=\"form-group\">\n        <label for=\"cNo\"><i class=\"fa fa-phone\" aria-hidden=\"true\"></i> Cellphone No.</label>\n        <input v-model=\"cellNo\" type=\"tel\" id=\"cNo\" class=\"form-control\" placeholder=\"e.g 0712356212\"  required>\n      </div>\n\n      <!-- WHATSAPP -->\n      <div class=\"form-group\">\n        <label for=\"sWa\"><i class=\"fab fa-whatsapp\" aria-hidden=\"true\"></i> WhatsApp No.</label>\n        <input v-model=\"whatsApp\" type=\"tel\" id=\"sWa\" class=\"form-control\" placeholder=\"e.g 0623549212\">\n        <p class=\"m-0\">\n          <label>\n            <input type=\"checkbox\" class=\"filled-in\" @change=\"whatsApp = cellNo\"/>\n            <span>Same as cellphone number</span>\n          </label>\n        </p>\n      </div>\n\n\n      <div class=\"form-group\">\n        <label for=\"pwd\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i> Password</label>\n        <input v-model=\"pwd\" type=\"password\" id=\"pwd\" class=\"form-control\" required autocomplete=\"off\">\n        <small id=\"helpName\" class=\"text-muted\">length should be atleast 4 charecters long</small>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"pwd2\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i> Confirm Password</label>\n        <input v-model=\"pwd2\" type=\"password\" id=\"pwd2\" class=\"form-control\" required>\n        <small id=\"helpName\" class=\"text-muted\">length should be atleast 4 charecters long</small>\n      </div>\n\n      <button class=\"btn orange btn-lg\" type=\"submit\" @click=\"submit()\">Register</button>\n    \n    </form>\n\n    <div class=\"alert mt-2 border-primary\" role=\"alert\"  >\n      <span class=\"white-text\"><router-link to=\"/login\" class=\"white-text\">Already registered? </router-link></span>\n    </div>\n\n  </div>\n\n</div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n\n  name : \"register\",\n  data() {\n    return {\n\n      name: '',\n      campus: '',\n      studentNumber: '',\n      cellNo: '',\n      email: '',\n      whatsApp: '',\n      pwd: '',\n      pwd2: '',\n      posOther: '',\n      pos: 'student',\n      campusesFront: [\n        {name: \"APK\", _id: 0}, \n        {name: \"APB\", _id: 1}, \n        {name: \"DFC\", _id: 2}, \n        {name: \"SWC\", _id: 3}\n      ]\n\n    }\n  },\n\n  methods: {\n\n    ...mapActions(['getCampuses']),\n\n    register(e) {\n\n      let position = this.pos\n\n      e.preventDefault()\n\n      // password matching\n      if(this.pwd !== this.pwd2) {\n        this.$toasted.error(\"Passwords do not match\", {icon: \"times-circle\"})\n        return false\n      }\n\n      // password length\n      if(this.pwd.length < 4) {\n        this.$toasted.error(\"Passwords should atleast be 4 charecters long\", {icon: \"times-circle\"})\n        return false\n      }\n\n      if(this.pos == 'other') {\n        position = this.posOther\n      }\n\n      this.$axios.post('/user/register', {\n        name: this.name,\n        studentNo: this.studentNumber,\n        email: this.studentNumber+\"@student.uj.ac.za\",\n        password: this.pwd,\n        whatsAppNo: this.whatsApp,\n        cellNo: this.cellNo,\n        campus: this.campus,\n        pos: position\n      }).then(res => {\n\n        if(!res.data.error) {\n          this.$toasted.success(res.data.message, {icon: \"check-circle\"})\n          this.$router.push('/login')\n        } else {\n          this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n        }\n        \n      }).catch (err => {\n        this.$toasted.error(err, {icon: \"times-circle\"})\n      }) \n\n    },\n\n    \n\n  },\n\n  computed: mapGetters(['campuses']),\n\n  async created() {\n    await this.getCampuses()\n    if(this.campuses.length > 0) {\n      this.campusesFront = this.campuses\n    }\n  }\n\n}\n</script>\n\n\n<style scoped>\n\n  .form {\n    margin-bottom: 60px;\n  }\n\n  @media (max-width: 768px) {\n    .form {\n\n      margin-top: -60px !important;\n      margin-bottom: 0px !important;\n\n    }\n  }\n\n  label {\n    color: #fff !important;\n  }\n\n  .m-0 {\n    margin: 0px;\n  }\n\n</style>\n"]}]}