{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmart\\src\\components\\ads\\searchAds.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmart\\src\\components\\ads\\searchAds.vue","mtime":1586112361713},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport moment from 'moment';\nexport default {\n  name: \"searchAds\",\n  data: function data() {\n    return {\n      ads: [],\n      adsAll: [],\n      perPage: 10,\n      page: 1,\n      pages: 1,\n      class: \"\"\n    };\n  },\n  methods: {\n    getSearchRes: function () {\n      var _getSearchRes = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var loader, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context.next = 3;\n                return this.$axios.get(\"/ad/find/\" + this.$route.params.search + \"/\" + this.$route.params.page);\n\n              case 3:\n                res = _context.sent;\n                this.pages = res.data.pages;\n                this.page = res.data.page;\n                this.ads = res.data.ads;\n                loader.hide();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getSearchRes() {\n        return _getSearchRes.apply(this, arguments);\n      }\n\n      return getSearchRes;\n    }(),\n    clickEr: function () {\n      var _clickEr = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(p) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$router.push('/search/ad/' + this.$route.params.search + \"/\" + p);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function clickEr(_x) {\n        return _clickEr.apply(this, arguments);\n      }\n\n      return clickEr;\n    }(),\n    doneManaging: function doneManaging() {\n      this.getSearchRes();\n    },\n    getDate: function getDate(date) {\n      return moment(date).fromNow();\n    }\n  },\n  computed: mapGetters(['authInfo']),\n  watch: {\n    $route: function () {\n      var _$route = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context3.next = 3;\n                return this.getSearchRes();\n\n              case 3:\n                scroll(0, 0);\n                loader.hide();\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function $route() {\n        return _$route.apply(this, arguments);\n      }\n\n      return $route;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4() {\n      var loader;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context4.next = 3;\n              return this.getSearchRes();\n\n            case 3:\n              loader.hide();\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["searchAds.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,WAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,CALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAbA;AAeA,EAAA,OAAA,EAAA;AAEA,IAAA,YAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,gBAAA,MAJA,GAIA,KAAA,QAAA,CAAA,IAAA,EAJA;AAAA;AAAA,uBAKA,KAAA,MAAA,CAAA,GAAA,CAAA,cAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,GAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CALA;;AAAA;AAKA,gBAAA,GALA;AAOA,qBAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,qBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,qBAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AAEA,gBAAA,MAAA,CAAA,IAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgBA,IAAA,OAhBA;AAAA;AAAA;AAAA,gDAgBA,CAhBA;AAAA;AAAA;AAAA;AAAA;AAkBA,qBAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,GAAA,GAAA,CAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAsBA,IAAA,YAtBA,0BAsBA;AACA,WAAA,YAAA;AACA,KAxBA;AA0BA,IAAA,OA1BA,mBA0BA,IA1BA,EA0BA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,CAAA,OAAA,EAAA;AACA;AA5BA,GAfA;AA+CA,EAAA,QAAA,EAAA,UAAA,CAAA,CAAA,UAAA,CAAA,CA/CA;AAiDA,EAAA,KAAA,EAAA;AACA,IAAA,MADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA,KAAA,QAAA,CAAA,IAAA,EAFA;AAAA;AAAA,uBAGA,KAAA,YAAA,EAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,gBAAA,MAAA,CAAA,IAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAjDA;AA0DA,EAAA,OA1DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4DA,cAAA,MA5DA,GA4DA,KAAA,QAAA,CAAA,IAAA,EA5DA;AAAA;AAAA,qBA6DA,KAAA,YAAA,EA7DA;;AAAA;AA8DA,cAAA,MAAA,CAAA,IAAA;;AA9DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n  \n  <div>\n\n    <div class=\"container mt-2\">\n      <p><i class=\"fa fa-search\"></i> {{$route.params.search}} </p>\n\n      <div class=\"row\">\n        <div \n        class=\"col item l4 s12 m6\"\n        v-for=\"ad in ads\"\n        :key=\"ad._id\"\n        @click=\"$router.push('/ad/'+ad._id)\"\n      >\n        <div class=\"cursor mt-2\">\n          <div>\n            <div class=\"img-cont flex purple\">\n              <img :src=\"$baseUrl+ad.images[0].path\" alt=\"\" v-if=\"ad.images.length > 0\">\n              <p v-else class=\"py-5 m-0\">\n                <i class=\"fa fa-image fa-4x\" aria-hidden=\"true\"></i>\n                <br>\n                No image\n              </p>\n            </div>\n            <div class=\"white-text orange darken-4 p-1\">\n              <p class=\"truncate\">{{ad.name}}</p>\n              <p class=\"truncate\"><i class=\"fa fa-clock\" aria-hidden=\"true\"></i> {{getDate(ad.added)}} | <i class=\"fa fa-university\" aria-hidden=\"true\"></i> {{ad.campus}}</p>\n              <p class=\"truncate\">R {{ad.price}}</p>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      </div>\n\n      <paginate\n      v-if=\"pages > 1\"\n      :page-count=\"pages\"\n      :click-handler=\"clickEr\"\n      container-class=\"pagination mt-2\"\n      page-class=\"page-item blue white-text waves-effect\"\n      page-link-class=\"page-link white-text\"\n      prev-class=\"page-item \"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item \"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"blue darken-4\"\n      \n    />\n\n      <div v-if=\"ads.length == 0\" class=\"center purple p-2 mt-2\">\n        <p class=\"text-center py-5\">\n          <i class=\"fa fa-box-open fa-4x\" aria-hidden=\"true\"></i>\n        </p>\n        <p>No related results</p>\n      </div>\n\n    </div>\n\n\n  </div>\n\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport moment from 'moment'\n\nexport default {\n\n  name: \"searchAds\",\n\n  data() {\n    return {\n      ads: [],\n      adsAll: [],\n      perPage: 10,\n      page: 1,\n      pages: 1,\n      class: \"\"\n    }\n  },\n\n  methods: {\n\n    async getSearchRes() {\n\n      let loader = this.$loading.show()\n      let res = await this.$axios.get(\"/ad/find/\"+this.$route.params.search+\"/\"+ this.$route.params.page)\n      \n      this.pages = res.data.pages\n      this.page = res.data.page\n      this.ads = res.data.ads\n\n      loader.hide()\n\n\n    }, \n\n    async clickEr(p) {\n\n      this.$router.push('/search/ad/'+this.$route.params.search+\"/\"+p)      \n\n    },\n\n    doneManaging() {\n      this.getSearchRes()\n    },\n\n    getDate(date) {\n      return moment(date).fromNow()\n    },\n\n  },\n\n  computed: mapGetters(['authInfo']),\n\n  watch: {\n    async $route() {\n      let loader = this.$loading.show()\n      await this.getSearchRes()\n      scroll(0,0)\n      loader.hide()\n    }\n  },\n\n  async created() {\n\n    let loader = this.$loading.show()\n    await this.getSearchRes()\n    loader.hide()\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n  .img-cont {\n    height: 200px !important;  \n    overflow: hidden !important;\n  }\n\n  .img-cont img {\n    max-width: 100%;\n    max-height: 200px;\n  }\n\n  h6 {\n    font-size: 16px !important;\n  }\n\n  .row {\n    overflow: hidden;\n  }\n\n  .mt-2 {\n    margin-top: 20px;\n  }\n\n  p {\n    margin: 0px;\n    \n  }\n</style>\n"],"sourceRoot":"src/components/ads"}]}