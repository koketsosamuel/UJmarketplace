{"remainingRequest":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\admin\\searchUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\admin\\searchUsers.vue","mtime":1566765111000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex'; // \n\nexport default {\n  name: \"searchusers\",\n  data: function data() {\n    return {\n      users: [],\n      page: 1,\n      pages: 1,\n      class: \"\",\n      userD: {\n        _id: null,\n        pos: null,\n        campus: null,\n        sNo: null,\n        email: null,\n        whatsAppNo: null,\n        cellNo: null\n      }\n    };\n  },\n  methods: {\n    getSearchRes: function () {\n      var _getSearchRes = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var loader, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context.next = 3;\n                return this.$axios.get(\"/user/find/\".concat(this.$route.params.search, \"/\").concat(this.$route.params.page), {\n                  headers: {\n                    Authorization: \"Bearer \" + this.authInfo.token\n                  }\n                });\n\n              case 3:\n                res = _context.sent;\n                this.pages = res.data.pages;\n                this.page = res.data.page;\n                this.users = res.data.users;\n                loader.hide();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getSearchRes() {\n        return _getSearchRes.apply(this, arguments);\n      }\n\n      return getSearchRes;\n    }(),\n    setEditData: function setEditData(user) {\n      this.userD._id = user._id;\n      this.userD.name = user.name;\n      this.userD.email = user.email;\n      this.userD.sNo = user.studentNo;\n      this.userD.campus = user.campus;\n      this.userD.pos = user.pos;\n\n      if (user.whatsAppNo == null) {\n        this.userD.whatsAppNo = \"Unavailable\";\n      } else {\n        this.userD.whatsAppNo = user.whatsAppNo;\n      }\n\n      if (user.cellNo == null) {\n        this.userD.cellNo = \"Unavailable\";\n      } else {\n        this.userD.cellNo = user.cellNo;\n      }\n    },\n    clickEr: function () {\n      var _clickEr = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(p) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$router.push('/search/ad/' + this.$route.params.search + \"/\" + p);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function clickEr(_x) {\n        return _clickEr.apply(this, arguments);\n      }\n\n      return clickEr;\n    }(),\n    remove: function remove(i) {\n      var _this = this;\n\n      var loader = this.$loading.show();\n      this.$axios.delete(\"/user/rem/\".concat(this.userD._id), {\n        headers: {\n          Authorization: \"Bearer \" + this.authInfo.token\n        }\n      }).then(function (res) {\n        if (res.data.error) {\n          _this.$toasted.error(res.data.message, {\n            icon: \"times-circle\"\n          });\n        } else {\n          _this.$toasted.success(res.data.message, {\n            icon: \"check\"\n          });\n\n          _this.users.splice(i, 1);\n        }\n\n        loader.hide();\n      }).catch(function (err) {\n        _this.$toasted.error(err, {\n          icon: \"times-circle\"\n        });\n\n        loader.hide();\n      });\n    }\n  },\n  computed: mapGetters(['authInfo']),\n  watch: {\n    $route: function () {\n      var _$route = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context3.next = 3;\n                return this.getSearchRes();\n\n              case 3:\n                loader.hide();\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function $route() {\n        return _$route.apply(this, arguments);\n      }\n\n      return $route;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4() {\n      var loader;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context4.next = 3;\n              return this.getSearchRes();\n\n            case 3:\n              loader.hide();\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["searchUsers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  \n  <div>\n\n    <navigation />\n\n    <div class=\"container\">\n      <h3><i class=\"fa fa-search\"></i> {{$route.params.search}} </h3>\n\n      <div class=\"list-group mt-3\">\n        <a href=\"javascript:void(0)\" v-for=\"user in users\" :key=\"user._id\" class=\"list-group-item list-group-item-action list-group-item-primary\" @click=\"setEditData(user)\" >\n          <div> \n\n            <i class=\"fa fa-user\"></i> &nbsp;{{user.name}} \n            <span class=\"float-right\">\n              <div class=\"btn-group\">\n                <button class=\"py-1 btn btn-success\" data-toggle=\"modal\" data-target=\"#userInf\"><i class=\"fa fa-info-circle\"></i></button>\n                <button class=\"btn py-1 btn-danger\" data-toggle=\"modal\" data-target=\"#remUser\"><i class=\"fa fa-trash\"></i></button>\n              </div>\n            </span>\n            <div class=\"clearfix\"></div>\n\n          </div>\n        </a>\n      </div>\n\n      <div v-if=\"users.length == 0\">\n        <h1 class=\"display-1 text-center\">\n          <i class=\"fa fa-user-times\" aria-hidden=\"true\"></i>\n        </h1>\n        <h4 class=\"text-center\">No Users Found</h4>\n      </div>\n\n      <paginate\n        v-if=\"pages > 1\"\n        :page-count=\"pages\"\n        :click-handler=\"clickEr\"\n        container-class=\"pagination mt-4\"\n        page-class=\"page-item\"\n        page-link-class=\"page-link text-white bg-primary\"\n        prev-class=\"page-item\"\n        prev-link-class=\"page-link bg-dark text-white\"\n        next-class=\"page-item\"\n        next-link-class=\"page-link bg-dark text-white\"\n        active-class=\"active disabled font-weight-bold\"\n      />\n\n    </div>\n\n    <!-- USER INFO -->\n    <div class=\"modal fade\" id=\"userInf\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modelTitleId\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content bg-dark border-0 text-white\">\n          <div class=\"modal-header border-0\">\n            <h5 class=\"modal-title text-orange\"><i class=\"fa fa-user\"></i> {{ userD.name }} <small class=\"text-white badge badge-primary\">{{ userD.pos }}</small></h5>\n              <button type=\"button\" class=\"close text-white\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n          </div>\n          <div class=\"modal-body text-white\">\n            \n            <p><i class=\"fab fa-whatsapp\"></i> {{ userD.whatsAppNo }}</p>\n            <p><i class=\"fa fa-phone\"></i> {{ userD.cellNo }}</p>\n            <p><i class=\"fa fa-envelope\"></i> {{ userD.email }} </p>\n            <p><i class=\"fa fa-university\"></i> {{ userD.campus }}</p>\n\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">CLOSE</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <!-- USER DELETE -->\n    <div class=\"modal fade\" id=\"remUser\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modelTitleId\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content bg-dark border-0 text-white\">\n          <div class=\"modal-header border-0\">\n            <h5 class=\"modal-title text-orange\"><i class=\"fa fa-user-times\"></i> User</h5>\n              <button type=\"button\" class=\"close text-white\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n          </div>\n          <div class=\"modal-body\">\n            \n            <p>Are you sure you want to remove <q class=\"font-weight-bold text-primary\">{{userD.name}}</q>?</p>\n\n\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\n            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary\" @click=\"remove\">Yes</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\n\n// \n\nexport default {\n\n  name: \"searchusers\",\n\n  data() {\n    return {\n      users: [],\n      page: 1,\n      pages: 1,\n      class: \"\",\n      userD: {\n        _id: null,\n        pos: null,\n        campus: null, \n        sNo: null,\n        email: null,\n        whatsAppNo: null,\n        cellNo: null\n      }\n    }\n  },\n\n  methods: {\n\n    async getSearchRes() {\n\n      let loader = this.$loading.show()\n\n      let res = await this.$axios.get(`/user/find/${this.$route.params.search}/${this.$route.params.page}`, {\n        headers: {\n          Authorization: \"Bearer \" + this.authInfo.token\n        }\n      })\n      \n      this.pages = res.data.pages\n      this.page = res.data.page\n      this.users = res.data.users\n\n      loader.hide()\n\n    },\n\n    setEditData(user) {\n\n      this.userD._id = user._id\n      this.userD.name = user.name\n      this.userD.email = user.email\n      this.userD.sNo = user.studentNo\n      this.userD.campus = user.campus\n      this.userD.pos = user.pos\n\n      if(user.whatsAppNo == null) {\n        this.userD.whatsAppNo = \"Unavailable\"\n      } else {\n        this.userD.whatsAppNo = user.whatsAppNo\n      }\n\n      if(user.cellNo == null) {\n        this.userD.cellNo = \"Unavailable\"\n      } else {\n        this.userD.cellNo = user.cellNo\n      }\n\n    },\n\n    async clickEr(p) {\n\n      this.$router.push('/search/ad/'+this.$route.params.search+\"/\"+p)      \n\n    },\n\n    remove(i) {\n\n      let loader = this.$loading.show()\n\n      this.$axios.delete(`/user/rem/${this.userD._id}`, {\n        headers: {\n          Authorization: \"Bearer \" + this.authInfo.token\n        }\n      })\n        .then(res => {\n\n          if(res.data.error) {\n            this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n          } else {\n            this.$toasted.success(res.data.message, {icon: \"check\"})         \n            this.users.splice(i, 1)\n          }\n\n          loader.hide()\n\n        })\n          .catch(err => {\n            this.$toasted.error(err, {icon: \"times-circle\"})\n            loader.hide()\n          })\n    }\n\n  },\n\n  computed: mapGetters(['authInfo']),\n\n  watch: {\n    async $route() {\n      let loader = this.$loading.show()\n      await this.getSearchRes()\n      loader.hide()\n    }\n  },\n\n  async created() {\n\n    let loader = this.$loading.show()\n    await this.getSearchRes()\n    loader.hide()\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components/admin"}]}