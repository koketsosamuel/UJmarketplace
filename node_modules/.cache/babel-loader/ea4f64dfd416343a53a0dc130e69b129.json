{"remainingRequest":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\ads\\searchAds.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\ads\\searchAds.vue","mtime":1566765111000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport moment from 'moment';\nimport adManager from \"./adManager\"; // \n\nexport default {\n  name: \"searchAds\",\n  components: {\n    adManager: adManager\n  },\n  data: function data() {\n    return {\n      ads: [],\n      adsAll: [],\n      perPage: 10,\n      page: 1,\n      pages: 1,\n      class: \"\"\n    };\n  },\n  methods: {\n    getSearchRes: function () {\n      var _getSearchRes = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var loader, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context.next = 3;\n                return this.$axios.get(\"/ad/find/\" + this.$route.params.search + \"/\" + this.$route.params.page);\n\n              case 3:\n                res = _context.sent;\n                this.pages = res.data.pages;\n                this.page = res.data.page;\n                this.ads = res.data.ads;\n                loader.hide();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getSearchRes() {\n        return _getSearchRes.apply(this, arguments);\n      }\n\n      return getSearchRes;\n    }(),\n    clickEr: function () {\n      var _clickEr = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(p) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$router.push('/search/ad/' + this.$route.params.search + \"/\" + p);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function clickEr(_x) {\n        return _clickEr.apply(this, arguments);\n      }\n\n      return clickEr;\n    }(),\n    doneManaging: function doneManaging() {\n      this.getSearchRes();\n    },\n    getDate: function getDate(date) {\n      return moment(date).fromNow();\n    }\n  },\n  computed: mapGetters(['authInfo']),\n  watch: {\n    $route: function () {\n      var _$route = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context3.next = 3;\n                return this.getSearchRes();\n\n              case 3:\n                scroll(0, 0);\n                loader.hide();\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function $route() {\n        return _$route.apply(this, arguments);\n      }\n\n      return $route;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4() {\n      var loader;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context4.next = 3;\n              return this.getSearchRes();\n\n            case 3:\n              loader.hide();\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["searchAds.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,SAAA,oB;;AAIA,eAAA;AAEA,EAAA,IAAA,EAAA,WAFA;AAIA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAJA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,CALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAjBA;AAmBA,EAAA,OAAA,EAAA;AAEA,IAAA,YAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,gBAAA,MAJA,GAIA,KAAA,QAAA,CAAA,IAAA,EAJA;AAAA;AAAA,uBAKA,KAAA,MAAA,CAAA,GAAA,CAAA,cAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,GAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CALA;;AAAA;AAKA,gBAAA,GALA;AAOA,qBAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,qBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,qBAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AAEA,gBAAA,MAAA,CAAA,IAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgBA,IAAA,OAhBA;AAAA;AAAA;AAAA,gDAgBA,CAhBA;AAAA;AAAA;AAAA;AAAA;AAkBA,qBAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,GAAA,GAAA,CAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAsBA,IAAA,YAtBA,0BAsBA;AACA,WAAA,YAAA;AACA,KAxBA;AA0BA,IAAA,OA1BA,mBA0BA,IA1BA,EA0BA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,CAAA,OAAA,EAAA;AACA;AA5BA,GAnBA;AAmDA,EAAA,QAAA,EAAA,UAAA,CAAA,CAAA,UAAA,CAAA,CAnDA;AAqDA,EAAA,KAAA,EAAA;AACA,IAAA,MADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA,KAAA,QAAA,CAAA,IAAA,EAFA;AAAA;AAAA,uBAGA,KAAA,YAAA,EAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,gBAAA,MAAA,CAAA,IAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GArDA;AA8DA,EAAA,OA9DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgEA,cAAA,MAhEA,GAgEA,KAAA,QAAA,CAAA,IAAA,EAhEA;AAAA;AAAA,qBAiEA,KAAA,YAAA,EAjEA;;AAAA;AAkEA,cAAA,MAAA,CAAA,IAAA;;AAlEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n  \n  <div>\n\n    <navigation />\n\n    <div class=\"container\">\n      <h3><i class=\"fa fa-search\"></i> {{$route.params.search}} </h3>\n\n      <ul class=\"list-group\">\n        <li\n          class=\"list-group-item grad-2 border-0\"\n          v-for=\"ad in ads\"\n          :key=\"ad._id\"\n        >\n          <router-link :to=\"'/ad/'+ad._id\">\n            <p class=\"m-0 float-left cursor text-white\">\n              <i class=\"fa fa-tag\"></i> {{ad.name}}&nbsp;| <i class=\"fa fa-calendar\" aria-hidden=\"true\"></i> <span class=\"font-italic\"> Posted {{getDate(ad.added)}}</span>\n            </p>\n          </router-link>\n\n          <span class=\"float-right large-dev\">\n            <adManager \n              :id=\"ad._id\" \n              :isDone=\"doneManaging\" \n              :auth=\"true\"\n              v-if=\"authInfo.loggedIn && (authInfo._id == ad.seller || authInfo.position == 'admin')\"\n            />\n          </span>\n          <div class=\"clearfix\"></div>\n        </li>\n      </ul>\n\n      <paginate\n        v-if=\"pages > 1\"\n        :page-count=\"pages\"\n        :click-handler=\"clickEr\"\n        container-class=\"pagination mt-4\"\n        page-class=\"page-item\"\n        page-link-class=\"page-link text-white bg-primary\"\n        prev-class=\"page-item\"\n        prev-link-class=\"page-link bg-dark text-white\"\n        next-class=\"page-item\"\n        next-link-class=\"page-link bg-dark text-white\"\n        active-class=\"active disabled font-weight-bold\"\n      />\n\n    </div>\n\n\n  </div>\n\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport moment from 'moment'\nimport adManager from './adManager'\n\n// \n\nexport default {\n\n  name: \"searchAds\",\n\n  components: {\n    adManager\n  },\n\n  data() {\n    return {\n      ads: [],\n      adsAll: [],\n      perPage: 10,\n      page: 1,\n      pages: 1,\n      class: \"\"\n    }\n  },\n\n  methods: {\n\n    async getSearchRes() {\n\n      let loader = this.$loading.show()\n      let res = await this.$axios.get(\"/ad/find/\"+this.$route.params.search+\"/\"+ this.$route.params.page)\n      \n      this.pages = res.data.pages\n      this.page = res.data.page\n      this.ads = res.data.ads\n\n      loader.hide()\n\n\n    }, \n\n    async clickEr(p) {\n\n      this.$router.push('/search/ad/'+this.$route.params.search+\"/\"+p)      \n\n    },\n\n    doneManaging() {\n      this.getSearchRes()\n    },\n\n    getDate(date) {\n      return moment(date).fromNow()\n    },\n\n  },\n\n  computed: mapGetters(['authInfo']),\n\n  watch: {\n    async $route() {\n      let loader = this.$loading.show()\n      await this.getSearchRes()\n      scroll(0,0)\n      loader.hide()\n    }\n  },\n\n  async created() {\n\n    let loader = this.$loading.show()\n    await this.getSearchRes()\n    loader.hide()\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components/ads"}]}