{"remainingRequest":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\ads\\singleAd.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\ads\\singleAd.vue","mtime":1584870945424},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from 'vuex';\nimport config from \"../../config/config\";\nimport authService from \"../../services/auth\";\nimport vueGallery from 'vue-gallery-slideshow';\nimport adManager from \"./adManager\";\nimport getDate from \"../../services/dateGet\";\nimport recentAds from \"./recentAds\";\nexport default {\n  name: \"singlead\",\n  components: {\n    vueGallery: vueGallery,\n    adManager: adManager,\n    recentAds: recentAds\n  },\n  data: function data() {\n    return {\n      adv: {\n        name: '',\n        campus: '',\n        price: '',\n        description: '',\n        quantity: null,\n        _id: null,\n        seller: null,\n        category: null\n      },\n      seller: {\n        pos: null,\n        email: '',\n        whatsAppNo: null,\n        cellNo: null\n      },\n      images: [],\n      category: {\n        name: null,\n        icon: null\n      },\n      index: null,\n      posted: \"\",\n      authorised: false\n    };\n  },\n  methods: _objectSpread({}, mapActions(['getAd']), {\n    setImages: function setImages(imageArr) {\n      this.images = [];\n\n      for (var i = 0; i < imageArr.length; i++) {\n        this.images.push(config.axiosConf.baseURL + imageArr[i].path);\n      }\n    },\n    getCategory: function () {\n      var _getCategory = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(cat) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$axios.get('/category/one/' + cat);\n\n              case 2:\n                res = _context.sent;\n                this.category.name = res.data.category.name;\n                this.category.icon = \"fas fa fa-\" + res.data.category.icon;\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getCategory(_x) {\n        return _getCategory.apply(this, arguments);\n      }\n\n      return getCategory;\n    }(),\n    whenDone: function whenDone() {\n      this.$router.replace(\"/\");\n    },\n    getSeller: function getSeller(id) {\n      var _this = this;\n\n      this.$axios('/user/seller/' + id).then(function (res) {\n        if (res.data.error) {\n          _this.$toasted.error(res.data.message, {\n            icon: \"times-circle\"\n          });\n        } else {\n          _this.seller = res.data.seller;\n        }\n      }).catch(function (err) {\n        // toast\n        _this.$toasted.error(err, {\n          icon: \"times-circle\"\n        });\n      });\n    },\n    postLoad: function () {\n      var _postLoad = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getAd(this.$route.params.adId);\n\n              case 2:\n                _context2.next = 4;\n                return this.ad;\n\n              case 4:\n                this.adv = _context2.sent;\n                _context2.next = 7;\n                return this.getCategory(this.adv.category);\n\n              case 7:\n                _context2.next = 9;\n                return this.setImages(this.ad.images);\n\n              case 9:\n                _context2.next = 11;\n                return this.getSeller(this.adv.seller);\n\n              case 11:\n                _context2.next = 13;\n                return getDate(this.adv.added);\n\n              case 13:\n                this.posted = _context2.sent;\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function postLoad() {\n        return _postLoad.apply(this, arguments);\n      }\n\n      return postLoad;\n    }()\n  }),\n  computed: mapGetters(['authInfo', 'ad']),\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3() {\n      var loader;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context3.next = 3;\n              return this.postLoad();\n\n            case 3:\n              loader.hide();\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  watch: {\n    $route: function () {\n      var _$route = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context4.next = 3;\n                return this.postLoad();\n\n              case 3:\n                scroll(0, 0);\n                loader.hide();\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function $route() {\n        return _$route.apply(this, arguments);\n      }\n\n      return $route;\n    }()\n  }\n};",{"version":3,"sources":["singleAd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  \n  <div>\n\n    <navigation />\n\n    <div class=\"container\">\n\n      <div class=\"card-panel purple white-text\">\n        <p>{{adv.name}}</p>\n        <p><i class=\"fas fa-clock\"></i> Posted {{posted}} | <i class=\"fa fa-university\" aria-hidden=\"true\"></i> {{adv.campus}}</p>\n        <h4>R {{adv.price}}</h4>\n      </div>\n      \n      <div class=\"row\">\n\n          <div class=\"card blue col l8 s12\">\n            <div class=\"flex\">\n              <img class=\"cp\" v-if=\"images.length > 0\" :src=\"images[0]\" alt=\"\" @click=\"index = 0\">\n              <span v-else class=\"p-4\"><i class=\"fa fa-image fa-4x\"></i> <br> No image</span>\n            </div>\n\n          </div>\n       \n      \n          <div class=\"col l4\">            \n\n            <p class=\"card-panel orange\">{{adv.description}}</p>\n\n            <div class=\"card-panel green\">\n              <p><i class=\"fab fa-whatsapp\"></i> {{seller.whatsAppNo}}</p>    \n              <p><i class=\"fa fas fa-phone\"></i> {{seller.cellNo}}</p>   \n              <p><i class=\"fa fab fa-envelope\"></i> {{seller.email}}</p>         \n              <p></p> \n            </div>\n\n            <div class=\"yellow\">\n              <adManager \n                :id=\"adv._id\" \n                :isDone=\"whenDone\" \n                v-if=\"authInfo.loggedIn && (authInfo._id == adv.seller || authInfo.position == 'admin')\" \n              />\n            </div>\n\n            <!-- <button class=\"btn btn-primary mt-3\" @click=\"share\"><i class=\"fa fa-share\" aria-hidden=\"true\"></i> Share</button> -->\n            \n          </div>\n      \n      </div>\n\n      <vueGallery :images=\"images\" :index=\"index\" @close=\"index = null\"/>\n    \n      <hr>\n\n      <recentAds />\n\n    </div>\n\n  </div>\n\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex'\nimport config from '../../config/config'\nimport authService from '../../services/auth'\nimport vueGallery from 'vue-gallery-slideshow'\nimport adManager from './adManager'\nimport getDate from '../../services/dateGet'\nimport recentAds from './recentAds'\n\nexport default {\n\n  name: \"singlead\",\n\n  components: {\n    vueGallery,\n    adManager,\n    recentAds\n  },\n\n  data() {\n    return {\n      adv: {\n        name: '',\n        campus: '',\n        price: '',\n        description: '',\n        quantity: null,\n        _id: null,\n        seller: null,\n        category: null\n      },\n\n      seller: {\n        pos: null,\n        email: '',\n        whatsAppNo: null,\n        cellNo: null\n      },\n\n      images: [],\n\n      category: {\n        name: null,\n        icon: null\n      },\n\n      index: null,\n\n      posted: \"\",\n\n      authorised: false\n\n    }\n  },\n\n  methods: {\n\n    ...mapActions(['getAd']),\n\n    setImages(imageArr) {\n\n      this.images = []\n\n      for(let i = 0; i < imageArr.length; i++) {\n        this.images.push(config.axiosConf.baseURL+imageArr[i].path)\n      }\n    },\n\n    async getCategory(cat) {\n      let res = await this.$axios.get('/category/one/'+cat)\n      this.category.name = res.data.category.name\n      this.category.icon = \"fas fa fa-\" + res.data.category.icon\n    },\n\n    whenDone() {\n      this.$router.replace(\"/\")\n    },\n\n    getSeller(id) {\n      this.$axios('/user/seller/'+id)\n        .then(res => {\n\n          if(res.data.error) {\n            this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n          } else {\n\n            this.seller = res.data.seller\n\n          }\n\n        }).catch(err => {\n          // toast\n          this.$toasted.error(err,{icon: \"times-circle\"})\n        })\n    },\n\n    async postLoad() {\n      await this.getAd(this.$route.params.adId)\n      this.adv = await this.ad\n      await this.getCategory(this.adv.category)\n      await this.setImages(this.ad.images)\n      await this.getSeller(this.adv.seller)\n      this.posted = await getDate(this.adv.added)\n    }\n\n\n  },\n\n  computed: mapGetters(['authInfo', 'ad']),\n\n\n  async created(){\n\n    let loader = this.$loading.show()\n    await this.postLoad()\n    loader.hide()\n\n  },\n\n  watch: {\n    async $route() {\n    \n      let loader = this.$loading.show()\n\n      await this.postLoad()\n      \n      scroll(0,0)\n\n      loader.hide()\n\n    }\n  }\n\n\n}\n</script>\n\n<style scoped>\n\n  img {\n    transition-property: all!important;\n    transition-duration: 0.3s!important;\n  }\n\n  .card {\n    border-radius: 0px !important;\n  }\n\n  .alert {\n    text-shadow: none;\n  }\n\n\n  .carousel img {\n    width: auto;\n    max-width: 100%;\n    max-height: 100%;\n\n  }\n\n  .modal-body {\n    height: 70vh !important;\n    overflow: hidden;\n  }\n\n  \n\n  @media (min-width: 992px) {\n    .card-info {\n      position: absolute !important;\n      top: 0px !important;\n      width: 100%;\n      padding-bottom: 20px;\n    }\n\n    .card:hover .card-info {\n      opacity: 0.5;\n    }\n\n    .card {\n      max-height: 70vh !important;\n      overflow: hidden;\n    }\n\n    .card img {\n      max-height: 55vh;\n      max-width: 100%;\n    }\n\n    /* .card-info-sm {\n      display: none;\n    } */\n  }\n\n  @media (max-width: 990.5px) {\n    .card {\n      max-height: 70vh !important;\n      overflow: hidden;\n    }\n\n    .card img {\n      max-height: 55vh;\n      max-width: 100%;\n    }\n\n    .card-info {\n      display: none;\n    }\n\n    \n  }\n\n  .m-fix {\n      margin-left: 1px;\n      margin-right: 1px;\n    }\n\n  \n\n</style>\n"],"sourceRoot":"src/components/ads"}]}