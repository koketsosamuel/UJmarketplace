{"remainingRequest":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\ads\\allAds.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\ads\\allAds.vue","mtime":1566765111000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nimport config from \"../../config/config\";\nimport { mapActions, mapGetters } from 'vuex';\nvar opts = {\n  page: 1,\n  category: \"all\",\n  campus: \"all\"\n};\nexport default {\n  name: \"allAdds\",\n  data: function data() {\n    return {\n      baseUrl: config.axiosConf.baseURL,\n      page: 1,\n      category: \"all\",\n      campus: \"all\"\n    };\n  },\n  computed: mapGetters(['categories', 'campuses', 'allAds']),\n  methods: _objectSpread({}, mapActions(['getCategories', 'getCampuses', 'getAllAds']), {\n    getDate: function getDate(date) {\n      return moment(date).fromNow();\n    },\n    clickEr: function clickEr(pageNum) {\n      opts.page = pageNum;\n      this.getAllAds(opts);\n    },\n    boom: function boom() {\n      window.alert('dd');\n    }\n  }),\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var loader;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context.next = 3;\n              return this.$route.params.page;\n\n            case 3:\n              opts.campus = _context.sent;\n              _context.next = 6;\n              return this.$route.params.page;\n\n            case 6:\n              this.campus = _context.sent;\n              _context.next = 9;\n              return this.$route.params.cat;\n\n            case 9:\n              opts.category = _context.sent;\n              _context.next = 12;\n              return this.$route.params.cat;\n\n            case 12:\n              this.category = _context.sent;\n              _context.next = 15;\n              return this.$route.params.camp;\n\n            case 15:\n              opts.campus = _context.sent;\n              _context.next = 18;\n              return this.$route.params.camp;\n\n            case 18:\n              this.campus = _context.sent;\n              _context.next = 21;\n              return this.getAllAds(opts);\n\n            case 21:\n              _context.next = 23;\n              return this.getCategories();\n\n            case 23:\n              _context.next = 25;\n              return this.getCampuses();\n\n            case 25:\n              loader.hide();\n\n            case 26:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  watch: {\n    category: function () {\n      var _category = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                loader = this.$loading.show();\n                opts.category = this.category;\n                opts.page = 1;\n                _context2.next = 5;\n                return this.getAllAds(opts);\n\n              case 5:\n                loader.hide();\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function category() {\n        return _category.apply(this, arguments);\n      }\n\n      return category;\n    }(),\n    campus: function () {\n      var _campus = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                loader = this.$loading.show();\n                opts.campus = this.campus;\n                opts.page = 1;\n                _context3.next = 5;\n                return this.getAllAds(opts);\n\n              case 5:\n                loader.hide();\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function campus() {\n        return _campus.apply(this, arguments);\n      }\n\n      return campus;\n    }()\n  }\n};",{"version":3,"sources":["allAds.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,MAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,IAAA,IAAA,GAAA;AACA,EAAA,IAAA,EAAA,CADA;AAEA,EAAA,QAAA,EAAA,KAFA;AAGA,EAAA,MAAA,EAAA;AAHA,CAAA;AAMA,eAAA;AAEA,EAAA,IAAA,EAAA,SAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AAEA,MAAA,OAAA,EAAA,MAAA,CAAA,SAAA,CAAA,OAFA;AAGA,MAAA,IAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA,KAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAUA,GAdA;AAgBA,EAAA,QAAA,EAAA,UAAA,CAAA,CAAA,YAAA,EAAA,UAAA,EAAA,QAAA,CAAA,CAhBA;AAkBA,EAAA,OAAA,oBAEA,UAAA,CAAA,CAAA,eAAA,EAAA,aAAA,EAAA,WAAA,CAAA,CAFA;AAIA,IAAA,OAJA,mBAIA,IAJA,EAIA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,CAAA,OAAA,EAAA;AACA,KANA;AAQA,IAAA,OARA,mBAQA,OARA,EAQA;AACA,MAAA,IAAA,CAAA,IAAA,GAAA,OAAA;AACA,WAAA,SAAA,CAAA,IAAA;AACA,KAXA;AAaA,IAAA,IAbA,kBAaA;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAfA,IAlBA;AAqCA,EAAA,OArCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCA,cAAA,MAvCA,GAuCA,KAAA,QAAA,CAAA,IAAA,EAvCA;AAAA;AAAA,qBAyCA,KAAA,MAAA,CAAA,MAAA,CAAA,IAzCA;;AAAA;AAyCA,cAAA,IAAA,CAAA,MAzCA;AAAA;AAAA,qBA0CA,KAAA,MAAA,CAAA,MAAA,CAAA,IA1CA;;AAAA;AA0CA,mBAAA,MA1CA;AAAA;AAAA,qBA4CA,KAAA,MAAA,CAAA,MAAA,CAAA,GA5CA;;AAAA;AA4CA,cAAA,IAAA,CAAA,QA5CA;AAAA;AAAA,qBA6CA,KAAA,MAAA,CAAA,MAAA,CAAA,GA7CA;;AAAA;AA6CA,mBAAA,QA7CA;AAAA;AAAA,qBA+CA,KAAA,MAAA,CAAA,MAAA,CAAA,IA/CA;;AAAA;AA+CA,cAAA,IAAA,CAAA,MA/CA;AAAA;AAAA,qBAgDA,KAAA,MAAA,CAAA,MAAA,CAAA,IAhDA;;AAAA;AAgDA,mBAAA,MAhDA;AAAA;AAAA,qBAkDA,KAAA,SAAA,CAAA,IAAA,CAlDA;;AAAA;AAAA;AAAA,qBAmDA,KAAA,aAAA,EAnDA;;AAAA;AAAA;AAAA,qBAoDA,KAAA,WAAA,EApDA;;AAAA;AAsDA,cAAA,MAAA,CAAA,IAAA;;AAtDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA0DA,EAAA,KAAA,EAAA;AAEA,IAAA,QAAA;AAAA;AAAA;AAAA,8BAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA,KAAA,QAAA,CAAA,IAAA,EAFA;AAIA,gBAAA,IAAA,CAAA,QAAA,GAAA,KAAA,QAAA;AACA,gBAAA,IAAA,CAAA,IAAA,GAAA,CAAA;AALA;AAAA,uBAMA,KAAA,SAAA,CAAA,IAAA,CANA;;AAAA;AAQA,gBAAA,MAAA,CAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAFA;AAcA,IAAA,MAAA;AAAA;AAAA;AAAA,8BAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA,KAAA,QAAA,CAAA,IAAA,EAFA;AAIA,gBAAA,IAAA,CAAA,MAAA,GAAA,KAAA,MAAA;AACA,gBAAA,IAAA,CAAA,IAAA,GAAA,CAAA;AALA;AAAA,uBAMA,KAAA,SAAA,CAAA,IAAA,CANA;;AAAA;AAQA,gBAAA,MAAA,CAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAdA;AA1DA,CAAA","sourcesContent":["<template>\n  <div>\n\n\n    <div class=\"row\">\n\n        <div class=\"form-group col-6\">\n          <label for=\"\"><i class=\"fa fa-align-left\" aria-hidden=\"true\"></i> Category:&nbsp;</label>\n          <select class=\"form-control\" v-model=\"category\">\n            <option value=\"all\">All Categories</option>\n            <option\n              v-for=\"category in categories\" \n              :key=\"category._id\"\n              :value=\"category._id\"\n            >\n              {{category.name}}\n            </option>\n            \n          </select>\n        </div>\n        \n\n        \n        <div class=\"form-group col-6\">\n          <label for=\"\"><i class=\"fa fa-university\" aria-hidden=\"true\"></i> Campus:&nbsp;</label>\n          <select class=\"form-control\" v-model=\"campus\">\n            <option value=\"all\">All Campuses</option>\n            <option \n              v-for=\"campus in campuses\" \n              :key=\"campus._id\"\n              :value=\"campus.name\"\n            >\n              {{campus.name}}\n            </option>\n            \n          </select>\n        </div>\n\n\n    </div>\n\n    <div class=\"row\">\n\n      <div \n        class=\"col-lg-6 col-md-6 p-0 px-2 my-1\"\n        v-for=\"ad in allAds.ads\"\n        :key=\"ad._id\"\n        @click=\"$router.push('/ad/'+ad._id)\"\n      >\n        <div class=\"row grad-3 h-100 mx-1 p-0 cursor\">\n          <div class=\"col-6 m-0 p-0\">\n            <div class=\"img-cont flex\">\n              <img :src=\"baseUrl+ad.images[0].path\" alt=\"\" v-if=\"ad.images.length > 0\">\n              <p v-else class=\"py-5 m-0\">\n                <i class=\"fa fa-image fa-4x\" aria-hidden=\"true\"></i>\n                <br>\n                No image\n              </p>\n            </div>\n\n          </div>\n          <div class=\"col-6 bg-dark h-100\">\n            <h5 class=\"font-weight-light my-1\">{{ad.name}}</h5>\n            <p class=\"font-italic m-0\">Posted {{getDate(ad.added)}} </p>\n            <p class=\"font-italic m-0\"><i class=\"fa fa-university\" aria-hidden=\"true\"></i> {{ad.campus}} </p>\n            <h6 class=\"badge badge-primary mt-2 font-weight-light\">R {{ad.price}}</h6>\n          </div>\n        </div>\n      </div>\n      \n\n    </div>\n\n    <paginate\n      v-if=\"allAds.pages > 1\"\n      :page-count=\"allAds.pages\"\n      :click-handler=\"clickEr\"\n      container-class=\"pagination mt-4\"\n      page-class=\"page-item\"\n      page-link-class=\"page-link text-white bg-primary\"\n      prev-class=\"page-item\"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item\"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"active disabled font-weight-bold\"\n      \n    />\n\n    <div v-if=\"allAds.ads.length == 0\">\n      <h1 class=\"text-center py-5\">\n        <i class=\"fa fa-box-open fa-2x\" aria-hidden=\"true\"></i>\n        <br> No ads found\n      </h1>\n    </div>\n\n\n\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport config from '../../config/config'\nimport {mapActions, mapGetters} from 'vuex'\n\nlet opts = {\n  page: 1,\n  category: \"all\",\n  campus: \"all\"\n}\n\nexport default {\n\n  name: \"allAdds\",\n  data() {\n    return {\n\n      baseUrl: config.axiosConf.baseURL,\n      page: 1,\n      category: \"all\",\n      campus: \"all\"\n\n    }\n\n\n  }, \n\n  computed: mapGetters(['categories', 'campuses', 'allAds']),\n\n  methods: {\n\n    ...mapActions(['getCategories', 'getCampuses', 'getAllAds']),\n\n    getDate(date) {\n      return moment(date).fromNow()\n    },\n\n    clickEr(pageNum) {\n      opts.page = pageNum\n      this.getAllAds(opts)\n    },\n\n    boom() {\n      window.alert('dd')\n    }\n\n  },\n\n  async created() {\n    \n    let loader = this.$loading.show()\n\n    opts.campus = await this.$route.params.page\n    this.campus = await this.$route.params.page\n\n    opts.category = await this.$route.params.cat\n    this.category = await this.$route.params.cat\n\n    opts.campus = await this.$route.params.camp\n    this.campus = await this.$route.params.camp\n\n    await this.getAllAds(opts)\n    await this.getCategories()\n    await this.getCampuses()\n\n    loader.hide()\n\n  },\n\n  watch : {\n    \n    category: async function () {\n\n      let loader = this.$loading.show()\n\n      opts.category = this.category\n      opts.page = 1\n      await this.getAllAds(opts)\n\n      loader.hide()\n\n    },\n\n    campus: async function() {\n\n      let loader = this.$loading.show()\n\n      opts.campus = this.campus\n      opts.page = 1\n      await this.getAllAds(opts)\n\n      loader.hide()\n\n    }\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n  .img-cont {\n    max-height: 200px !important;  \n    overflow: hidden !important;\n  }\n\n  .img-cont img {\n    max-width: 100%;\n    max-height: 200px;\n  }\n\n  h6 {\n    font-size: 16px !important;\n  }\n\n  .row {\n    overflow: hidden;\n  }\n\n\n  .row.grad-3 {\n\n    height: 200px !important;\n\n  }\n\n  \n\n</style>\n"],"sourceRoot":"src/components/ads"}]}