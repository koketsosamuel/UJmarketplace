{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmart\\src\\components\\admin\\searchUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmart\\src\\components\\admin\\searchUsers.vue","mtime":1586434706579},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport Vue from \"vue\";\nexport default {\n  name: \"searchusers\",\n  data: function data() {\n    return {\n      users: [],\n      page: 1,\n      pages: 1,\n      class: \"\",\n      userObj: null,\n      searchUser: \"\"\n    };\n  },\n  methods: {\n    getSearchRes: function () {\n      var _getSearchRes = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var loader, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context.next = 3;\n                return this.$axios.get(\"/user/find/\".concat(this.$route.params.search, \"/\").concat(this.$route.params.page), this.$headers());\n\n              case 3:\n                res = _context.sent;\n                this.pages = res.data.pages;\n                this.page = res.data.page;\n                this.users = res.data.users;\n                loader.hide();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getSearchRes() {\n        return _getSearchRes.apply(this, arguments);\n      }\n\n      return getSearchRes;\n    }(),\n    search: function search(e) {\n      e.preventDefault();\n      this.$router.push(\"/search/user/\".concat(this.searchUser, \"/1\"));\n    },\n    remove: function remove(id) {\n      var _this = this;\n\n      if (confirm(\"Are you sure you want to delete user?\")) {\n        var loader = this.$loading.show();\n        this.$axios.delete(\"/user/rem/\".concat(id), {\n          headers: {\n            Authorization: \"Bearer \" + this.$jsCookie.getJSON(\"4u7h3n71c4710n\").token\n          }\n        }).then(function (res) {\n          loader.hide();\n\n          if (res.data.error) {\n            _this.$toasted.error(res.data.message, {\n              icon: \"times-circle\"\n            });\n          } else {\n            _this.$toasted.success(res.data.message, {\n              icon: \"check\"\n            });\n\n            _this.getUsers(_this.users.page);\n          }\n        }).catch(function (err) {\n          _this.$toasted.error(err, {\n            icon: \"times-circle\"\n          });\n\n          loader.hide();\n        });\n      }\n    },\n    gotopage: function () {\n      var _gotopage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(pageNum) {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context2.next = 3;\n                return this.getUsers({\n                  page: pageNum,\n                  query: this.query,\n                  sort: this.sort\n                });\n\n              case 3:\n                loader.hide();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function gotopage(_x) {\n        return _gotopage.apply(this, arguments);\n      }\n\n      return gotopage;\n    }(),\n    objectMarkup: function objectMarkup(obj) {\n      var str = \"\";\n      Object.keys(obj).forEach(function (key) {\n        str += \"<p style=\\\"padding:0px;margin:0px;\\\">\".concat(key, \": \").concat(obj[key], \"</p>\");\n      });\n      return str;\n    },\n    stroke: function stroke(id) {\n      var _this2 = this;\n\n      if (confirm(\"Are you sure you want to stroke user?\")) {\n        var loader = this.$loading.show();\n        this.$axios.put(\"/user/stroke/\" + id, {}, this.$headers()).then(function (res) {\n          loader.hide();\n\n          if (res.data.error) {\n            _this2.$toasted.error(res.data.message, {\n              icon: \"times-circle\"\n            });\n          } else {\n            _this2.$toasted.success(res.data.message, {\n              icon: \"check\"\n            });\n          }\n        }).catch(function (err) {\n          loader.hide();\n\n          _this2.$toasted.error(err, {\n            icon: \"times-circle\"\n          });\n        });\n      }\n    }\n  },\n  computed: mapGetters(['authInfo']),\n  watch: {\n    $route: function () {\n      var _$route = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context3.next = 3;\n                return this.getSearchRes();\n\n              case 3:\n                loader.hide();\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function $route() {\n        return _$route.apply(this, arguments);\n      }\n\n      return $route;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4() {\n      var loader;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context4.next = 3;\n              return this.getSearchRes();\n\n            case 3:\n              loader.hide();\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["searchUsers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  \n  <div class=\"green lighten-4 p-2 mt-2 container mb-4\">\n\n    <p><i class=\"fa fa-search\" aria-hidden=\"true\"></i> {{$route.params.search}}</p>\n\n    <form class=\"form-inline my-2 my-lg-0\" @submit=\"search\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" v-model=\"searchUser\" placeholder=\"Search\" aria-label=\"Search\" required>\n      <button \n        class=\"btn green\" \n        type=\"submit\">\n          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n      </button>\n    </form>\n    \n\n    <ul class=\"collapsible\">\n        <li v-for=\"(user, i) in users\" :key=\"i+user._id\" @click=\"userObj = user\">\n          <div class=\"collapsible-header green white-text\">\n            <span class=\"left\">\n              <i class=\"fas fa-user\"></i>{{user.name}} \n            </span>\n          </div>\n          <div class=\"collapsible-body\">\n              <p v-if=\"user._id == authInfo._id\">Come on its you!!</p>\n              <div class=\"data\" v-else v-html=\"objectMarkup(user)\"></div>\n              <a class=\"btn grey modal-trigger\" @click=\"stroke(user._id)\">stroke</a>&nbsp;\n              <a class=\"btn red modal-trigger\" @click=\"remove(user._id)\">Remove</a>\n          </div>\n        </li>\n      </ul>\n\n    <paginate\n      :page-count=\"Number(pages)\"\n      :click-handler=\"gotopage\"\n      container-class=\"pagination mt-4\"\n      page-class=\"page-item\"\n      page-link-class=\"page-link text-white bg-primary\"\n      prev-class=\"page-item\"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item\"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"active disabled font-weight-bold\"      \n      v-if=\"pages > 1\"\n    />\n\n    <div v-if=\"users.length == 0\" class=\"purple p-2 mt-2 center\">\n      <p class=\"display-1 center\">\n        <i class=\"fa fa-user-times fa-4x\" aria-hidden=\"true\"></i>\n      </p>\n      <p class=\"text-center mt-2 p-2\">No Users</p>\n    </div>\n\n    \n\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport Vue from \"vue\"\n\nexport default {\n\n  name: \"searchusers\",\n\n  data() {\n    return {\n      users: [],\n      page: 1,\n      pages: 1,\n      class: \"\",\n      userObj: null,\n\n      searchUser: \"\"\n    }\n  },\n\n  methods: {\n\n    async getSearchRes() {\n\n      let loader = this.$loading.show()\n\n      let res = await this.$axios.get(`/user/find/${this.$route.params.search}/${this.$route.params.page}`, this.$headers())\n      \n      this.pages = res.data.pages\n      this.page = res.data.page\n      this.users = res.data.users\n\n      loader.hide()\n\n    },\n\n    search(e) {\n\n      e.preventDefault()\n      this.$router.push(`/search/user/${this.searchUser}/1`)\n\n    },\n    \n\n    remove(id) {\n\n      if(confirm(\"Are you sure you want to delete user?\")) {\n\n        let loader = this.$loading.show()\n\n      \n\n        this.$axios.delete(`/user/rem/${id}`, {\n          headers: {\n            Authorization: \"Bearer \" + this.$jsCookie.getJSON(\"4u7h3n71c4710n\").token\n          }\n        })\n          .then(res => {\n\n            loader.hide()\n\n            if(res.data.error) {\n              this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n            } else {\n              this.$toasted.success(res.data.message, {icon: \"check\"})         \n              this.getUsers(this.users.page)\n            }\n\n          })\n            .catch(err => {\n              this.$toasted.error(err, {icon: \"times-circle\"})\n              loader.hide()\n            })\n\n      }\n    },\n\n    async gotopage(pageNum) {\n      let loader = this.$loading.show()\n      await this.getUsers({page:pageNum, query: this.query, sort: this.sort})\n      loader.hide()\n    },\n\n    objectMarkup(obj) {\n      let str = \"\"\n\n      Object.keys(obj).forEach((key) => {\n        str += `<p style=\"padding:0px;margin:0px;\">${key}: ${obj[key]}</p>`\n      })\n\n      return str\n\n    },\n\n    stroke(id) {\n\n      if(confirm(\"Are you sure you want to stroke user?\")) {\n        \n        let loader = this.$loading.show()\n\n        this.$axios.put(\"/user/stroke/\"+id,{}, this.$headers())\n          .then(res => {\n\n            loader.hide()\n            if(res.data.error) {\n              this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n            } else {\n              this.$toasted.success(res.data.message, {icon: \"check\"})            \n            }\n\n          })\n          .catch(err => {\n            loader.hide()\n            this.$toasted.error(err, {icon: \"times-circle\"})\n          })\n\n      }\n\n\n    }\n\n  },\n\n  computed: mapGetters(['authInfo']),\n\n  watch: {\n    async $route() {\n      let loader = this.$loading.show()\n      await this.getSearchRes()\n      loader.hide()\n    }\n  },\n\n  async created() {\n\n    let loader = this.$loading.show()\n    await this.getSearchRes()\n    loader.hide()\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components/admin"}]}