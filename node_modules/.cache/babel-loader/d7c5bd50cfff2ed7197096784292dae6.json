{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmart\\src\\components\\ads\\allAds.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmart\\src\\components\\ads\\allAds.vue","mtime":1586507286879},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nimport { mapActions, mapGetters } from 'vuex';\nvar opts = {\n  page: 1,\n  category: \"all\",\n  campus: \"all\"\n};\nexport default {\n  name: \"allAdds\",\n  data: function data() {\n    return {\n      baseUrl: this.$baseUrl,\n      page: 1,\n      category: \"all\",\n      campus: \"all\",\n      categoryName: \"all categories\",\n      campusName: \"all campuses\"\n    };\n  },\n  computed: mapGetters(['categories', 'campuses', 'allAds']),\n  methods: _objectSpread({}, mapActions(['getCategories', 'getCampuses', 'getAllAds']), {\n    getDate: function getDate(date) {\n      return moment(date).fromNow();\n    },\n    clickEr: function clickEr(pageNum) {\n      opts.page = pageNum;\n      this.getAllAds(opts);\n    },\n    getName: function () {\n      var _getName = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id, arr, obj, c) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(id == \"all\")) {\n                  _context.next = 4;\n                  break;\n                }\n\n                obj.name = id + \" \" + c;\n                _context.next = 7;\n                break;\n\n              case 4:\n                if (!(id.length < 12)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                obj.name = id;\n                return _context.abrupt(\"return\", false);\n\n              case 7:\n                _context.next = 9;\n                return arr.forEach(function (element) {\n                  if (element._id == id) {\n                    obj.name = element.name;\n                  }\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getName(_x, _x2, _x3, _x4) {\n        return _getName.apply(this, arguments);\n      }\n\n      return getName;\n    }()\n  }),\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var loader, obj;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              loader = this.$loading.show();\n              _context2.next = 3;\n              return this.$route.params.page;\n\n            case 3:\n              opts.page = _context2.sent;\n              _context2.next = 6;\n              return this.$route.params.page;\n\n            case 6:\n              this.page = _context2.sent;\n              _context2.next = 9;\n              return this.$route.params.cat;\n\n            case 9:\n              opts.category = _context2.sent;\n              _context2.next = 12;\n              return this.$route.params.cat;\n\n            case 12:\n              this.category = _context2.sent;\n              _context2.next = 15;\n              return this.$route.params.camp;\n\n            case 15:\n              opts.campus = _context2.sent;\n              _context2.next = 18;\n              return this.$route.params.camp;\n\n            case 18:\n              this.campus = _context2.sent;\n              _context2.next = 21;\n              return this.getAllAds(opts);\n\n            case 21:\n              _context2.next = 23;\n              return this.getCategories();\n\n            case 23:\n              _context2.next = 25;\n              return this.getCampuses();\n\n            case 25:\n              obj = {};\n              _context2.next = 28;\n              return this.getName(opts.campus, this.campuses, obj, \"campuses\");\n\n            case 28:\n              this.campusName = obj.name;\n              _context2.next = 31;\n              return this.getName(opts.category, this.categories, obj, \"categories\");\n\n            case 31:\n              this.categoryName = obj.name;\n              loader.hide();\n\n            case 33:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  watch: {\n    category: function category() {\n      this.$router.push(\"/browseads/1/\".concat(this.category, \"/\").concat(this.campus));\n    },\n    campus: function campus() {\n      this.$router.push(\"/browseads/1/\".concat(this.category, \"/\").concat(this.campus));\n    },\n    $route: function () {\n      var _$route = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context3.next = 3;\n                return this.$route.params.page;\n\n              case 3:\n                opts.page = _context3.sent;\n                _context3.next = 6;\n                return this.$route.params.page;\n\n              case 6:\n                this.page = _context3.sent;\n                _context3.next = 9;\n                return this.$route.params.cat;\n\n              case 9:\n                opts.category = _context3.sent;\n                _context3.next = 12;\n                return this.$route.params.cat;\n\n              case 12:\n                this.category = _context3.sent;\n                _context3.next = 15;\n                return this.$route.params.camp;\n\n              case 15:\n                opts.campus = _context3.sent;\n                _context3.next = 18;\n                return this.$route.params.camp;\n\n              case 18:\n                this.campus = _context3.sent;\n                scroll(0, 0);\n                _context3.next = 22;\n                return this.getAllAds(opts);\n\n              case 22:\n                alert(this.allAds.pages);\n                loader.hide();\n\n              case 24:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function $route() {\n        return _$route.apply(this, arguments);\n      }\n\n      return $route;\n    }()\n  }\n};",{"version":3,"sources":["allAds.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"mt-2\">\n\n\n \n      <div class=\"dropdown-content\" id=\"catOpts\">\n        <ul class=\"black-text\">\n\n            <li @click=\"category = 'all'; categoryName = 'all categories'\">\n              <a>All</a>\n            </li>\n            <li\n              v-for=\"category_ in categories\" \n              :key=\"category_._id\"\n              @click=\"category = category_._id; categoryName = category_.name\"\n            >\n              <a>{{category_.name}}</a>\n            </li>\n \n        </ul>\n      </div>\n        \n      <div class=\"dropdown-content\" id=\"camOpts\">\n        <ul class=\"black-text\">\n\n            <li @click=\"campus = 'all'; campusName = 'all campuses'\">\n              <a>All</a>\n            </li>\n            <li\n              v-for=\"campus_ in campuses\" \n              :key=\"campus_._id\"\n              @click=\"campus = campus_._id; campusName = campus_.name\"\n            >\n              <a>{{campus_.name}}</a>\n            </li>\n \n        </ul>\n      </div>\n        \n    \n\n        <div class=\"card-panel\">\n          <a href=\"javascript:void(0)\" class=\"dropdown-trigger btn blue\" data-target=\"catOpts\">{{categoryName}} <i class=\"fas fa-caret-down\"></i></a> &nbsp;\n          <a href=\"javascript:void(0)\" class=\"dropdown-trigger btn blue\" data-target=\"camOpts\">{{campusName}} <i class=\"fas fa-caret-down\"></i></a>\n        </div>\n\n\n\n    <div class=\"row\">\n\n      <div \n        class=\"col item l4 s12 m6\"\n        v-for=\"ad in allAds.ads\"\n        :key=\"ad._id\"\n        @click=\"$router.push('/ad/'+ad._id)\"\n      >\n        <div class=\"cursor mt-2\">\n          <div>\n            <div class=\"img-cont flex purple\">\n              <img :src=\"baseUrl+ad.images[0].path\" alt=\"\" v-if=\"ad.images.length > 0\">\n              <p v-else class=\"py-5 m-0\">\n                <i class=\"fa fa-image fa-4x\" aria-hidden=\"true\"></i>\n                <br>\n                No image\n              </p>\n            </div>\n            <div class=\"white-text orange darken-4 p-1\">\n              <p class=\"truncate\">{{ad.name}}</p>\n              <p class=\"truncate\"><i class=\"fa fa-clock\" aria-hidden=\"true\"></i> {{getDate(ad.added)}} | <i class=\"fa fa-university\" aria-hidden=\"true\"></i> {{ad.campus}}</p>\n              <p class=\"truncate\">R {{ad.price}}</p>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      \n\n    </div>\n\n    <paginate\n      v-if=\"allAds.pages > 1\"\n      :page-count=\"allAds.pages\"\n      :click-handler=\"clickEr\"\n      container-class=\"pagination mt-2\"\n      page-class=\"page-item blue white-text waves-effect\"\n      page-link-class=\"page-link white-text\"\n      prev-class=\"page-item \"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item \"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"blue darken-4\"\n      \n    />\n\n    <div v-if=\"allAds.ads.length == 0\" class=\"center purple p-2 mt-2\">\n      <p class=\"text-center py-5\">\n        <i class=\"fa fa-box-open fa-4x\" aria-hidden=\"true\"></i>\n        <br> No ads found\n      </p>\n    </div>\n\n\n\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport {mapActions, mapGetters} from 'vuex'\n\nlet opts = {\n  page: 1,\n  category: \"all\",\n  campus: \"all\"\n}\n\nexport default {\n\n  name: \"allAdds\",\n  data() {\n    return {\n\n      baseUrl: this.$baseUrl,\n      page: 1,\n      category: \"all\",\n      campus: \"all\",\n      categoryName: \"all categories\",\n      campusName: \"all campuses\"\n\n    }\n\n\n  }, \n\n  computed: mapGetters(['categories', 'campuses', 'allAds']),\n\n  methods: {\n\n    ...mapActions(['getCategories', 'getCampuses', 'getAllAds']),\n\n    getDate(date) {\n      return moment(date).fromNow()\n    },\n\n    clickEr(pageNum) {\n      opts.page = pageNum\n      this.getAllAds(opts)\n    },\n\n    async getName(id, arr, obj, c) {\n\n      if(id == \"all\") {\n        obj.name = id + \" \" + c\n      } else if(id.length < 12) {\n        obj.name = id\n        return false\n      }\n\n      await arr.forEach(element => {\n        \n        if(element._id == id) {          \n          obj.name = element.name\n        }\n\n      })\n\n\n    }\n\n  },\n\n  async created() {\n    \n    let loader = this.$loading.show()\n\n    opts.page = await this.$route.params.page\n    this.page = await this.$route.params.page\n\n    opts.category = await this.$route.params.cat\n    this.category = await this.$route.params.cat\n\n    opts.campus = await this.$route.params.camp\n    this.campus = await this.$route.params.camp\n\n    await this.getAllAds(opts)\n    await this.getCategories()\n    await this.getCampuses()\n\n    let obj = {}\n    await this.getName(opts.campus, this.campuses, obj, \"campuses\")\n    this.campusName = obj.name\n    await this.getName(opts.category, this.categories, obj, \"categories\")\n    this.categoryName = obj.name\n\n\n\n\n    loader.hide()\n\n  },\n\n  watch : {\n    \n    category () {\n\n      this.$router.push(`/browseads/1/${this.category}/${this.campus}`)\n\n    },\n\n    campus() {\n\n      this.$router.push(`/browseads/1/${this.category}/${this.campus}`)\n\n    },\n\n    async $route () {\n      let loader = this.$loading.show()\n\n      opts.page = await this.$route.params.page\n      this.page = await this.$route.params.page\n\n      opts.category = await this.$route.params.cat\n      this.category = await this.$route.params.cat\n\n      opts.campus = await this.$route.params.camp\n      this.campus = await this.$route.params.camp\n\n      scroll(0,0)\n      await this.getAllAds(opts)\n\n      alert(this.allAds.pages)\n\n\n      loader.hide()\n    }\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n  .img-cont {\n    height: 200px !important;  \n    overflow: hidden !important;\n  }\n\n  .img-cont img {\n    max-width: 100%;\n    max-height: 200px;\n  }\n\n  h6 {\n    font-size: 16px !important;\n  }\n\n  .row {\n    overflow: hidden;\n  }\n\n  .mt-2 {\n    margin-top: 20px;\n  }\n\n  p {\n    margin: 0px;\n    \n  }\n\n\n</style>\n"],"sourceRoot":"src/components/ads"}]}