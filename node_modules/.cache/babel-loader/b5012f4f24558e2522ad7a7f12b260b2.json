{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmart\\src\\components\\admin\\adminUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmart\\src\\components\\admin\\adminUsers.vue","mtime":1586425060444},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from 'vuex';\nimport Vue from \"vue\";\nexport default {\n  name: \"adminUsers\",\n  data: function data() {\n    return {\n      query: \"\",\n      searchUser: \"\",\n      sort: {\n        joined: -1\n      },\n      userS: {\n        users: [],\n        pages: 1,\n        page: 1\n      }\n    };\n  },\n  methods: _objectSpread({}, mapActions(['getUsers']), {\n    search: function search(e) {\n      e.preventDefault();\n      this.$router.push(\"/search/user/\".concat(this.query, \"/1\"));\n    },\n    remove: function remove(id) {\n      var _this = this;\n\n      if (confirm(\"Are you sure you want to delete user?\")) {\n        var loader = this.$loading.show();\n        this.$axios.delete(\"/user/rem/\".concat(id), this.headers()).then(function (res) {\n          loader.hide();\n\n          if (res.data.error) {\n            _this.$toasted.error(res.data.message, {\n              icon: \"times-circle\"\n            });\n          } else {\n            _this.$toasted.success(res.data.message, {\n              icon: \"check\"\n            });\n\n            _this.getUsers(_this.users.page);\n          }\n        }).catch(function (err) {\n          _this.$toasted.error(err, {\n            icon: \"times-circle\"\n          });\n\n          loader.hide();\n        });\n      }\n    },\n    gotopage: function () {\n      var _gotopage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(pageNum) {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context.next = 3;\n                return this.getUsers({\n                  page: pageNum,\n                  query: this.query,\n                  sort: this.sort\n                });\n\n              case 3:\n                loader.hide();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gotopage(_x) {\n        return _gotopage.apply(this, arguments);\n      }\n\n      return gotopage;\n    }(),\n    objectMarkup: function objectMarkup(obj) {\n      var str = \"\";\n      Object.keys(obj).forEach(function (key) {\n        str += \"<p style=\\\"padding:0px;margin:0px;\\\">\".concat(key, \": \").concat(obj[key], \"</p>\");\n      });\n      return str;\n    },\n    stroke: function stroke(id) {\n      var _this2 = this;\n\n      if (confirm(\"Are you sure you want to stroke user?\")) {\n        var loader = this.$loading.show();\n        this.$axios.put(\"/user/stroke/\" + id, {}, this.$headers()).then(function (res) {\n          loader.hide();\n\n          if (res.data.error) {\n            _this2.$toasted.error(res.data.message, {\n              icon: \"times-circle\"\n            });\n          } else {\n            _this2.$toasted.success(res.data.message, {\n              icon: \"check\"\n            });\n          }\n        }).catch(function (err) {\n          loader.hide();\n\n          _this2.$toasted.error(err, {\n            icon: \"times-circle\"\n          });\n        });\n      }\n    },\n    filter: function () {\n      var _filter = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(arg) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.query = {\n                  \"banned\": arg\n                };\n\n                if (arg == \"none\") {\n                  this.query = {};\n                }\n\n                _context2.next = 4;\n                return this.getUsers({\n                  page: 1,\n                  query: this.query,\n                  sort: this.sort\n                });\n\n              case 4:\n                _context2.next = 6;\n                return this.users;\n\n              case 6:\n                this.userS = _context2.sent;\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function filter(_x2) {\n        return _filter.apply(this, arguments);\n      }\n\n      return filter;\n    }()\n  }),\n  computed: mapGetters(['users', 'authInfo']),\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.getUsers({\n                page: 1,\n                query: this.query,\n                sort: this.sort\n              });\n\n            case 2:\n              _context3.next = 4;\n              return this.users;\n\n            case 4:\n              this.userS = _context3.sent;\n              Vue.nextTick(function () {\n                _this3.$M.AutoInit();\n              });\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["adminUsers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"green lighten-4 p-2\">\n\n    <form class=\"form-inline my-2 my-lg-0\" @submit=\"search\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" v-model=\"query\" placeholder=\"Search\" aria-label=\"Search\" required>\n      <button \n        class=\"btn green\" \n        type=\"submit\">\n          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n      </button>\n    </form>\n    \n\n    <ul class=\"collapsible\" v-if=\"userS.users.length != 0\">\n        <li v-for=\"(user, i) in userS.users\" :key=\"i+user._id\">\n          <div class=\"collapsible-header green white-text\">\n            <span class=\"left\">\n              <i class=\"fas fa-user\"></i>{{user.name}} \n            </span>\n          </div>\n          <div class=\"collapsible-body\">\n              <p v-if=\"user._id == authInfo._id\">Come on its you!!</p>\n              <div class=\"data\" v-else v-html=\"objectMarkup(user)\"></div>\n              <a class=\"btn grey modal-trigger\" @click=\"stroke(user._id)\">stroke</a>&nbsp;\n              <a class=\"btn red modal-trigger\" @click=\"remove(user._id)\">Remove</a>\n          </div>\n        </li>\n      </ul>\n\n    <paginate\n      :page-count=\"Number(userS.pages)\"\n      :click-handler=\"gotopage\"\n      container-class=\"pagination mt-4\"\n      page-class=\"page-item\"\n      page-link-class=\"page-link text-white bg-primary\"\n      prev-class=\"page-item\"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item\"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"active disabled font-weight-bold\"      \n      v-if=\"userS.pages > 1\"\n    />\n\n    <div v-if=\"userS.users.length == 0\" class=\"purple p-2 mt-2 center\">\n      <p class=\"display-1 center\">\n        <i class=\"fa fa-user-times fa-4x\" aria-hidden=\"true\"></i>\n      </p>\n      <p class=\"text-center mt-2 p-2\">No Users</p>\n    </div>\n\n    \n\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex'\nimport Vue from \"vue\"\n\nexport default {\n\n  name: \"adminUsers\",\n  data() {\n    return {\n    \n      query: \"\",\n\n      searchUser: \"\",\n\n      sort: {joined: -1},\n\n      userS: {\n        users: [],\n        pages: 1,\n        page: 1\n      }\n\n    }\n  },\n  methods: {\n    ...mapActions(['getUsers']),\n\n    search(e) {\n\n      e.preventDefault()\n      this.$router.push(`/search/user/${this.query}/1`)\n\n    },\n    \n\n    remove(id) {\n\n      if(confirm(\"Are you sure you want to delete user?\")) {\n\n        let loader = this.$loading.show()\n\n      \n\n        this.$axios.delete(`/user/rem/${id}`, this.headers())\n          .then(res => {\n\n            loader.hide()\n\n            if(res.data.error) {\n              this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n            } else {\n              this.$toasted.success(res.data.message, {icon: \"check\"})         \n              this.getUsers(this.users.page)\n            }\n\n          })\n            .catch(err => {\n              this.$toasted.error(err, {icon: \"times-circle\"})\n              loader.hide()\n            })\n\n      }\n    },\n\n    async gotopage(pageNum) {\n      let loader = this.$loading.show()\n      await this.getUsers({page:pageNum, query: this.query, sort: this.sort})\n      loader.hide()\n    },\n\n    objectMarkup(obj) {\n      let str = \"\"\n\n      Object.keys(obj).forEach((key) => {\n        str += `<p style=\"padding:0px;margin:0px;\">${key}: ${obj[key]}</p>`\n      })\n\n      return str\n\n    },\n\n    stroke(id) {\n\n      if(confirm(\"Are you sure you want to stroke user?\")) {\n        \n        let loader = this.$loading.show()\n\n        this.$axios.put(\"/user/stroke/\"+id,{}, this.$headers())\n          .then(res => {\n\n            loader.hide()\n            if(res.data.error) {\n              this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n            } else {\n              this.$toasted.success(res.data.message, {icon: \"check\"})            \n            }\n\n          })\n          .catch(err => {\n            loader.hide()\n            this.$toasted.error(err, {icon: \"times-circle\"})\n          })\n\n      }\n\n\n    },\n    \n    async filter(arg) {\n      \n      this.query = {\n        \"banned\": arg\n      }\n     \n      if(arg == \"none\") {\n        this.query = {}\n      }\n      \n      await this.getUsers({page: 1, query: this.query, sort: this.sort})\n      this.userS = await this.users\n\n    }\n\n  },\n  computed: mapGetters(['users', 'authInfo']),\n  async created() {\n    \n    await this.getUsers({page: 1, query: this.query, sort: this.sort})\n    this.userS = await this.users\n\n    Vue.nextTick(() => {\n      this.$M.AutoInit()\n    })\n\n  }\n\n\n}\n</script>\n\n<style scoped>\n\n\n\n p {\n  margin: 0px !important;\n  padding: 0px !important;\n}\n\n</style>\n"],"sourceRoot":"src/components/admin"}]}