{"remainingRequest":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\admin\\adminUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\src\\components\\admin\\adminUsers.vue","mtime":1566765111000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Downloads\\UJmart-master\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Downloads\\\\UJmart-master\\\\UJmart\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: \"adminUsers\",\n  data: function data() {\n    return {\n      userD: {\n        name: '',\n        email: '',\n        sNo: '',\n        _id: '',\n        campus: '',\n        pos: '',\n        cellNo: '',\n        whatsAppNo: ''\n      },\n      query: null,\n      userS: {\n        users: [],\n        pages: 1,\n        page: 1\n      }\n    };\n  },\n  methods: _objectSpread({}, mapActions(['getUsers']), {\n    setEditData: function setEditData(user) {\n      this.userD._id = user._id;\n      this.userD.name = user.name;\n      this.userD.email = user.email;\n      this.userD.sNo = user.studentNo;\n      this.userD.campus = user.campus;\n      this.userD.pos = user.pos;\n\n      if (user.whatsAppNo == null) {\n        this.userD.whatsAppNo = \"Unavailable\";\n      } else {\n        this.userD.whatsAppNo = user.whatsAppNo;\n      }\n\n      if (user.cellNo == null) {\n        this.userD.cellNo = \"Unavailable\";\n      } else {\n        this.userD.cellNo = user.cellNo;\n      }\n    },\n    search: function search(e) {\n      e.preventDefault();\n      this.$router.push(\"/search/user/\".concat(this.query, \"/1\"));\n    },\n    remove: function remove() {\n      var _this = this;\n\n      var loader = this.$loading.show();\n      this.$axios.delete(\"/user/rem/\".concat(this.userD._id), {\n        headers: {\n          Authorization: \"Bearer \" + this.authInfo.token\n        }\n      }).then(function (res) {\n        loader.hide();\n\n        if (res.data.error) {\n          _this.$toasted.error(res.data.message, {\n            icon: \"times-circle\"\n          });\n        } else {\n          _this.$toasted.success(res.data.message, {\n            icon: \"check\"\n          });\n\n          _this.getUsers(_this.users.page);\n        }\n      }).catch(function (err) {\n        _this.$toasted.error(err, {\n          icon: \"times-circle\"\n        });\n\n        loader.hide();\n      });\n    },\n    clickEr: function () {\n      var _clickEr = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(pageNum) {\n        var loader;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show();\n                _context.next = 3;\n                return this.getUsers(pageNum);\n\n              case 3:\n                loader.hide();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickEr(_x) {\n        return _clickEr.apply(this, arguments);\n      }\n\n      return clickEr;\n    }()\n  }),\n  computed: mapGetters(['users', 'authInfo']),\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.getUsers(1);\n\n            case 2:\n              _context2.next = 4;\n              return this.users;\n\n            case 4:\n              this.userS = _context2.sent;\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["adminUsers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n\n    <h3><i class=\"fa fa-users\"></i> Users</h3>\n\n    <form class=\"form-inline my-2 my-lg-0\" @submit=\"search\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" v-model=\"query\" placeholder=\"Search\" aria-label=\"Search\" required>\n      <button \n        class=\"btn btn-outline-dark my-2 my-sm-0\" \n        type=\"submit\">\n          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n      </button>\n    </form>\n\n    <div class=\"list-group mt-3\">\n      <a href=\"javascript:void(0)\" v-for=\"user in userS.users\" :key=\"user._id\" class=\"list-group-item list-group-item-action list-group-item-primary\" @click=\"setEditData(user)\" >\n        <div> \n\n          <i class=\"fa fa-user\"></i> &nbsp;{{user.name}} <span class=\"badge badge-primary\">{{user.pos}}</span>\n          <span class=\"float-right\">\n            <p v-if=\"user._id == authInfo._id\" class=\"m-0 p-1 bg-dark text-white\">You</p>\n            <div class=\"btn-group\" v-if=\"user._id != authInfo._id\">\n              <button class=\"py-1 btn btn-success\" data-toggle=\"modal\" data-target=\"#userInf\"><i class=\"fa fa-info-circle\"></i></button>\n              <button class=\"btn py-1 btn-danger\" data-toggle=\"modal\" data-target=\"#remUser\"><i class=\"fa fa-trash\"></i></button>\n            </div>\n          </span>\n          <div class=\"clearfix\"></div>\n\n        </div>\n      </a>\n    </div>\n\n    <paginate\n      :page-count=\"Number(userS.pages)\"\n      :click-handler=\"clickEr\"\n      container-class=\"pagination mt-4\"\n      page-class=\"page-item\"\n      page-link-class=\"page-link text-white bg-primary\"\n      prev-class=\"page-item\"\n      prev-link-class=\"page-link bg-dark text-white\"\n      next-class=\"page-item\"\n      next-link-class=\"page-link bg-dark text-white\"\n      active-class=\"active disabled font-weight-bold\"      \n    />\n\n    <div v-if=\"userS.users.length == 0\">\n      <h1 class=\"display-1 text-center\">\n        <i class=\"fa fa-user-times\" aria-hidden=\"true\"></i>\n      </h1>\n      <h4 class=\"text-center\">No Users</h4>\n    </div>\n  \n\n    <!-- USER INFO -->\n    <div class=\"modal fade\" id=\"userInf\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modelTitleId\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content bg-dark border-0 text-white\">\n          <div class=\"modal-header border-0\">\n            <h5 class=\"modal-title text-orange\"><i class=\"fa fa-user\"></i> {{ userD.name }} <small class=\"text-white badge badge-primary\">{{ userD.pos }}</small></h5>\n              <button type=\"button\" class=\"close text-white\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n          </div>\n          <div class=\"modal-body text-white\">\n            \n            <p><i class=\"fab fa-whatsapp\"></i> {{ userD.whatsAppNo }}</p>\n            <p><i class=\"fa fa-phone\"></i> {{ userD.cellNo }}</p>\n            <p><i class=\"fa fa-envelope\"></i> {{ userD.email }} </p>\n            <p><i class=\"fa fa-university\"></i> {{ userD.campus }}</p>\n\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">CLOSE</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <!-- USER DELETE -->\n    <div class=\"modal fade\" id=\"remUser\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modelTitleId\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content bg-dark border-0 text-white\">\n          <div class=\"modal-header border-0\">\n            <h5 class=\"modal-title text-orange\"><i class=\"fa fa-user-times\"></i> User</h5>\n              <button type=\"button\" class=\"close text-white\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n          </div>\n          <div class=\"modal-body\">\n            \n            <p>Are you sure you want to remove <q class=\"font-weight-bold text-primary\">{{userD.name}}</q>?</p>\n\n\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\n            <button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-primary\" @click=\"remove\">Yes</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n\n  name: \"adminUsers\",\n  data() {\n    return {\n      userD: {\n        name: '',\n        email: '',\n        sNo: '',\n        _id: '',\n        campus: '',\n        pos: '',\n        cellNo: '',\n        whatsAppNo: '',\n      },\n\n      query: null,\n\n      userS: {\n        users: [],\n        pages: 1,\n        page: 1\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['getUsers']),\n\n    setEditData(user) {\n\n      this.userD._id = user._id\n      this.userD.name = user.name\n      this.userD.email = user.email\n      this.userD.sNo = user.studentNo\n      this.userD.campus = user.campus\n      this.userD.pos = user.pos\n\n      if(user.whatsAppNo == null) {\n        this.userD.whatsAppNo = \"Unavailable\"\n      } else {\n        this.userD.whatsAppNo = user.whatsAppNo\n      }\n\n      if(user.cellNo == null) {\n        this.userD.cellNo = \"Unavailable\"\n      } else {\n        this.userD.cellNo = user.cellNo\n      }\n\n    },\n\n    search(e) {\n\n      e.preventDefault()\n      this.$router.push(`/search/user/${this.query}/1`)\n\n    },\n    \n\n    remove() {\n\n      let loader = this.$loading.show()\n\n      this.$axios.delete(`/user/rem/${this.userD._id}`, {\n        headers: {\n          Authorization: \"Bearer \" + this.authInfo.token\n        }\n      })\n        .then(res => {\n\n          loader.hide()\n\n          if(res.data.error) {\n            this.$toasted.error(res.data.message, {icon: \"times-circle\"})\n          } else {\n            this.$toasted.success(res.data.message, {icon: \"check\"})         \n            this.getUsers(this.users.page)\n          }\n\n        })\n          .catch(err => {\n            this.$toasted.error(err, {icon: \"times-circle\"})\n            loader.hide()\n          })\n    },\n\n    async clickEr(pageNum) {\n      let loader = this.$loading.show()\n      await this.getUsers(pageNum)\n      loader.hide()\n    }\n\n  },\n  computed: mapGetters(['users', 'authInfo']),\n  async created() {\n    await this.getUsers(1)\n    this.userS = await this.users\n  }\n\n\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/components/admin"}]}