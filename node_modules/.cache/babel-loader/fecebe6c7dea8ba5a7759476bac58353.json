{"remainingRequest":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\UJmart\\src\\components\\layout\\notifications.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\UJmart\\src\\components\\layout\\notifications.vue","mtime":1584947391843},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\UJmart\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nexport default {\n  name: \"notifications\",\n  data: function data() {\n    return {\n      notifications: [],\n      nots: [],\n      notification: {\n        title: null,\n        notification: \"null\",\n        shortDesc: null,\n        created: null\n      }\n    };\n  },\n  methods: {\n    getNotifications: function getNotifications() {\n      var _this = this;\n\n      this.$axios.get('/notification/all').then(function (res) {\n        // console.log(res.data)\n        _this.notifications = res.data.notifications;\n\n        for (var i = 0; i < _this.notifications.length; i++) {\n          var values = {\n            title: _this.notifications[i].title,\n            shortDesc: _this.notifications[i].shortDesc,\n            created: moment(_this.notifications[i].created).fromNow(),\n            class: \"\",\n            notification: _this.notifications[i].notification // make first notification active\n\n          };\n\n          if (i == 0) {\n            values.class = values.class + \" active\";\n          }\n\n          _this.nots.push(values);\n        }\n      });\n    },\n    setEditData: function setEditData(notification) {\n      this.notification.title = notification.title;\n      this.notification.shortDesc = notification.shortDesc;\n      this.notification.notification = notification.notification;\n      this.notification.created = notification.created;\n    }\n  },\n  created: function created() {\n    this.getNotifications();\n  }\n};",{"version":3,"sources":["notifications.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,eAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAKA,MAAA,YAAA,EAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,YAAA,EAAA,MAFA;AAGA,QAAA,SAAA,EAAA,IAHA;AAIA,QAAA,OAAA,EAAA;AAJA;AALA,KAAA;AAaA,GAlBA;AAoBA,EAAA,OAAA,EAAA;AAEA,IAAA,gBAFA,8BAEA;AAAA;;AAEA,WAAA,MAAA,CAAA,GAAA,CAAA,mBAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AAEA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,GAAA,CAAA,IAAA,CAAA,aAAA;;AAEA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AAEA,cAAA,MAAA,GAAA;AACA,YAAA,KAAA,EAAA,KAAA,CAAA,aAAA,CAAA,CAAA,EAAA,KADA;AAEA,YAAA,SAAA,EAAA,KAAA,CAAA,aAAA,CAAA,CAAA,EAAA,SAFA;AAGA,YAAA,OAAA,EAAA,MAAA,CAAA,KAAA,CAAA,aAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA,OAAA,EAHA;AAIA,YAAA,KAAA,EAAA,EAJA;AAKA,YAAA,YAAA,EAAA,KAAA,CAAA,aAAA,CAAA,CAAA,EAAA,YALA,CAQA;;AARA,WAAA;;AASA,cAAA,CAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,KAAA,GAAA,SAAA;AACA;;AAEA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AAEA;AAEA,OAzBA;AA2BA,KA/BA;AAkCA,IAAA,WAlCA,uBAkCA,YAlCA,EAkCA;AAEA,WAAA,YAAA,CAAA,KAAA,GAAA,YAAA,CAAA,KAAA;AACA,WAAA,YAAA,CAAA,SAAA,GAAA,YAAA,CAAA,SAAA;AACA,WAAA,YAAA,CAAA,YAAA,GAAA,YAAA,CAAA,YAAA;AACA,WAAA,YAAA,CAAA,OAAA,GAAA,YAAA,CAAA,OAAA;AAEA;AAzCA,GApBA;AAiEA,EAAA,OAjEA,qBAiEA;AAEA,SAAA,gBAAA;AAEA;AArEA,CAAA","sourcesContent":["<template>\n  \n  <div>\n\n\n    <div id=\"carouselId\" class=\"carousel slide bg-dark mb-4\" data-ride=\"carousel\">\n      <ol class=\"carousel-indicators\" id=\"indicators\">\n        <li v-for=\"(notification, index) in nots\" :key=\"notification._id\" data-target=\"#carouselId\" :data-slide-to=\"index\" :class=\"notification.class\"></li>\n      </ol>\n      <div class=\"carousel-inner\" role=\"listbox\">\n        <div v-for=\"notification in nots\" :key=\"notification._id\" :class=\"'carousel-item p-4 text-primary '+notification.class\">\n         \n          <div class=\"text-left p-4 truncate\">\n            <h5><i class=\"fa fa-bell\" aria-hidden=\"true\"></i> {{notification.title}}</h5>\n            <small class=\"text-muted m-0\">posted {{notification.created}}</small>\n            <p class=\"m-0 mb-1\">{{notification.shortDesc}}</p>\n\n            <button class=\"btn orange my-0\" @click=\"setEditData(notification)\" data-toggle=\"modal\" data-target=\"#viewNot\">Read More</button>\n          </div>\n        </div>\n\n        <div v-if=\"notifications.length <= 0\" class=\"carousel-item p-4 text-primary active\">\n         \n          <div class=\"text-left p-4 truncate\">\n\n            <h5><i class=\"fa fa-bell\" aria-hidden=\"true\"></i> Welcome</h5>\n            <small class=\"text-muted m-0\"></small>\n            <p class=\"m-0 mb-1\">UJmart is aimed at centralizing market to students, employees and anyone in UJ</p>\n\n            <button class=\"btn orange my-0\">Read More</button>\n\n          </div>\n        </div>\n        \n      </div>\n    </div>\n\n    <!-- NOTIFICATION -->\n    <div class=\"modal fade\" id=\"viewNot\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modelTitleId\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content bg-dark border-0 text-white\">\n          <div class=\"modal-header border-0\">\n            <h5 class=\"modal-title text-orange\"><i class=\"fa fa-bell\"></i> {{notification.title}}</h5>\n              <button type=\"button\" class=\"close text-white\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n          </div>\n          <div class=\"modal-body bg-white\">\n            \n            \n            <vue-simple-markdown :source=\"notification.notification\"></vue-simple-markdown>\n          \n\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n\n  </div>\n\n</template>\n\n<script>\nimport moment from 'moment'\n\nexport default {\n\n  name: \"notifications\",\n\n  data(){\n    return {\n\n      notifications: [],\n      nots: [],\n\n      notification: {\n        title: null,\n        notification: \"null\",\n        shortDesc: null,\n        created: null\n      }\n\n    }\n  },\n\n  methods: {\n\n    getNotifications() {\n\n      this.$axios.get('/notification/all')\n        .then(res => {\n\n          // console.log(res.data)\n          this.notifications = res.data.notifications\n          \n          for(let i = 0; i < this.notifications.length; i++) {\n\n            let values = {\n              title: this.notifications[i].title,\n              shortDesc: this.notifications[i].shortDesc,\n              created: moment(this.notifications[i].created).fromNow(),\n              class: \"\",\n              notification: this.notifications[i].notification\n            }\n\n            // make first notification active\n            if(i == 0) {\n              values.class = values.class + \" active\"\n            }\n\n            this.nots.push(values)\n\n          }\n\n        })\n     \n    },\n\n\n    setEditData(notification) {\n\n      this.notification.title = notification.title\n      this.notification.shortDesc = notification.shortDesc\n      this.notification.notification = notification.notification\n      this.notification.created = notification.created\n\n    }\n\n  },\n\n  created() {\n\n    this.getNotifications()\n\n  }\n\n}\n</script>\n\n<style>\n\n  .carousel {\n\n    height: 230px !important;\n    transition: all 0.4s;\n   \n\n  }\n\n  .truncate {\n    width: 100%;\n    white-space: nowrap !important;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n  }\n\n  small {\n    font-size: 16px;\n  }\n\n\n\n</style>\n"],"sourceRoot":"src/components/layout"}]}